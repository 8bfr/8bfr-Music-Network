/* ========================================
   CARRIE AVATAR POSITIONING CSS
   This file contains ONLY the exact positioning
   values from the closet for avatar overlays
   ======================================== */

/* Base avatar scaling by gender/skin */
body[data-gender="female"][data-skin="light"]{
  --base-width: .89;
  --base-height: .99;
}

body[data-gender="female"][data-skin="dark"]{
  --base-width: .63;
  --base-height: .96;
}

body[data-gender="male"][data-skin="light"]{
  --base-width: 1.00;
  --base-height: 1.00;
}

body[data-gender="male"][data-skin="dark"]{
  --base-width: 0.96;
  --base-height: 1.00;
}

/* Apply scaling to base images */
body[data-skin] #closetBaseImg,
body[data-skin] #miniBaseImg {
  transform: translateX(-50%) scaleX(var(--base-width, 1)) scaleY(var(--base-height, 1));
}

/* Overlay host setup */
#closetOverlayHost,
#miniOverlayHost {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
}

#closetOverlayHost img,
#miniOverlayHost img {
  filter: drop-shadow(0 0 2px #000);
}

/* Layer overlay base styles */
.layer-overlay {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  pointer-events: none;
  image-rendering: auto;
  
  /* Default transform variables */
  --scale: 1;
  --offset-x: 0%;
  --offset-y: 0%;
  --rotate: 0deg;
  
  /* Light skin defaults */
  --scale-light: var(--scale);
  --offset-x-light: var(--offset-x);
  --offset-y-light: var(--offset-y);
  --rotate-light: var(--rotate);
  
  /* Dark skin defaults */
  --scale-dark: var(--scale);
  --offset-x-dark: var(--offset-x);
  --offset-y-dark: var(--offset-y);
  --rotate-dark: var(--rotate);
  
  /* Active variables */
  --scale-use: var(--scale);
  --offset-x-use: var(--offset-x);
  --offset-y-use: var(--offset-y);
  --rotate-use: var(--rotate);
  
  transform: scale(var(--scale-use)) translateX(var(--offset-x-use)) translateY(var(--offset-y-use)) rotate(var(--rotate-use));
}

/* Skin-specific variable activation */
body[data-skin="light"] .layer-overlay {
  --scale-use: var(--scale-light);
  --offset-x-use: var(--offset-x-light);
  --offset-y-use: var(--offset-y-light);
  --rotate-use: var(--rotate-light);
}

body[data-skin="dark"] .layer-overlay {
  --scale-use: var(--scale-dark);
  --offset-x-use: var(--offset-x-dark);
  --offset-y-use: var(--offset-y-dark);
  --rotate-use: var(--rotate-dark);
}

/* ========== FEMALE HAIR – STRAIGHT ========== */
body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_straight_brown {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -20%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_straight_brown {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -20%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_straight_copper {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -20%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_straight_copper {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -20%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_straight_ginger {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -20%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_straight_ginger {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -20%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_straight_pastel_blue {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -21%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_straight_pastel_blue {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -21%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_straight_pastel_pink {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -20%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_straight_pastel_pink {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -20%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_straight_pastel_purple {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -20%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_straight_pastel_purple {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -20%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_straight_black {
  transform-origin: center top;
  --scale: 0.46;
  --offset-x: 0%;
  --offset-y: -15%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_straight_black {
  transform-origin: center top;
  --scale: 0.38;
  --offset-x: 0%;
  --offset-y: -15%;
}

/* ========== FEMALE HAIR – WAVY ========== */
body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_wavy_blonde {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: -1%;
  --offset-y: -20%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_wavy_blonde {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: -1%;
  --offset-y: -20%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_wavy_brown {
  transform-origin: center top;
  --scale: 0.99;
  --offset-x: 1%;
  --offset-y: -36%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_wavy_brown {
  transform-origin: center top;
  --scale: 0.99;
  --offset-x: 1%;
  --offset-y: -36%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_wavy_copper {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: -1%;
  --offset-y: -20%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_wavy_copper {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: -1%;
  --offset-y: -20%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_wavy_ginger {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: -1%;
  --offset-y: -20%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_wavy_ginger {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: -1%;
  --offset-y: -20%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_wavy_pastel_blue {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: -1%;
  --offset-y: -20%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_wavy_pastel_blue {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: -1%;
  --offset-y: -20%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_wavy_pastel_pink {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: -1%;
  --offset-y: -21%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_wavy_pastel_pink {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: -1%;
  --offset-y: -21%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_wavy_pastel_purple {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: -1%;
  --offset-y: -20%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_wavy_pastel_purple {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: -1%;
  --offset-y: -20%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_hair_wavy_black {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -20%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_hair_wavy_black {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: -20%;
}

/* ========== TOPS ========== */
body[data-gender="female"][data-skin="light"] .layer-overlay.item-u_top_tank {
  transform-origin: center top;
  --scale: 0.75;
  --offset-x: 0%;
  --offset-y: -12%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-u_top_tank {
  transform-origin: center top;
  --scale: 0.65;
  --offset-x: 0%;
  --offset-y: -6%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-u_top_tee {
  transform-origin: center top;
  --scale: 0.67;
  --offset-x: -1%;
  --offset-y: 0%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-u_top_tee {
  transform-origin: center top;
  --scale: 0.60;
  --offset-x: 0%;
  --offset-y: 4.8%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_top_bikini_red {
  transform-origin: center top;
  --scale: 0.37;
  --offset-x: -1%;
  --offset-y: 38%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_top_bikini_red {
  transform-origin: center top;
  --scale: 0.35;
  --offset-x: 0%;
  --offset-y: 41%;
}

body[data-gender="male"][data-skin="light"] .layer-overlay.item-u_top_tank {
  transform-origin: center top;
  --scale: 0.85;
  --offset-x: 0%;
  --offset-y: -15%;
}
body[data-gender="male"][data-skin="dark"] .layer-overlay.item-u_top_tank {
  transform-origin: center top;
  --scale: 0.85;
  --offset-x: 0%;
  --offset-y: -15%;
}

body[data-gender="male"][data-skin="light"] .layer-overlay.item-u_top_tee {
  transform-origin: center top;
  --scale: 0.90;
  --offset-x: 0%;
  --offset-y: -7%;
}
body[data-gender="male"][data-skin="dark"] .layer-overlay.item-u_top_tee {
  transform-origin: center top;
  --scale: 0.90;
  --offset-x: 0%;
  --offset-y: -4%;
}

/* ========== BOTTOMS ========== */
body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_bottom_shorts {
  transform-origin: center top;
  --scale: .58;
  --offset-x: -1%;
  --offset-y: 44%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_bottom_shorts {
  transform-origin: center top;
  --scale: .48;
  --offset-x: -0%;
  --offset-y: 56%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_bottom_skirt {
  transform-origin: center top;
  --scale: .60;
  --offset-x: -0%;
  --offset-y: 30%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_bottom_skirt {
  transform-origin: center top;
  --scale: .55;
  --offset-x: -0%;
  --offset-y: 36%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_bottom_bikini_red {
  transform-origin: center top;
  --scale: .83;
  --offset-x: -1%;
  --offset-y: 10%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_bottom_bikini_red {
  transform-origin: center top;
  --scale: .75;
  --offset-x: -0%;
  --offset-y: 16%;
}

/* ========== JEWELRY ========== */
body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_jewel_necklace {
  transform-origin: center top;
  --scale: .35;
  --offset-x: 0%;
  --offset-y: 07%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_jewel_necklace {
  transform-origin: center top;
  --scale: .35;
  --offset-x: 0%;
  --offset-y: 09%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_jewel_belly {
  transform-origin: center top;
  --scale: .15;
  --offset-x: 0%;
  --offset-y: 250%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_jewel_belly {
  transform-origin: center top;
  --scale: .15;
  --offset-x: 0%;
  --offset-y: 250%;
}

body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_jewel_ears.layer-left {
  transform-origin: center top;
  --scale: 0.20;
  --offset-x: -46%;
  --offset-y: 29%;
}
body[data-gender="female"][data-skin="light"] .layer-overlay.item-f_jewel_ears.layer-right {
  transform-origin: center top;
  --scale: 0.20;
  --offset-x: 46%;
  --offset-y: 29%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_jewel_ears.layer-left {
  transform-origin: center top;
  --scale: 0.20;
  --offset-x: -46%;
  --offset-y: 32%;
}
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-f_jewel_ears.layer-right {
  transform-origin: center top;
  --scale: 0.20;
  --offset-x: 46%;
  --offset-y: 32%;
}

/* ========== SHOES ========== */
/* FEMALE LIGHT - LEFT SHOE */
body[data-gender="female"][data-skin="light"] .layer-overlay.layer-shoes-left {
  transform-origin: center center;
  --scale-light: 0.36;
  --offset-x-light: -18%;
  --offset-y-light: 120%;
  --rotate-light: 0deg;
}

/* FEMALE LIGHT - RIGHT SHOE */
body[data-gender="female"][data-skin="light"] .layer-overlay.layer-shoes-right {
  transform-origin: center center;
  --scale-light: 0.36;
  --offset-x-light: 13%;
  --offset-y-light: 120%;
  --rotate-light: 0deg;
}

/* FEMALE DARK - LEFT SHOE */
body[data-gender="female"][data-skin="dark"] .layer-overlay.layer-shoes-left {
  transform-origin: center center;
  --scale-dark: 0.30;
  --offset-x-dark: -26%;
  --offset-y-dark: 150%;
  --rotate-dark: 0deg;
}

/* FEMALE DARK - RIGHT SHOE */
body[data-gender="female"][data-skin="dark"] .layer-overlay.layer-shoes-right {
  transform-origin: center center;
  --scale-dark: 0.30;
  --offset-x-dark: 16%;
  --offset-y-dark: 150%;
  --rotate-dark: 0deg;
}

/* MALE LIGHT - LEFT SHOE */
body[data-gender="male"][data-skin="light"] .layer-overlay.layer-shoes-left {
  transform-origin: center center;
  --scale-light: 0.40;
  --offset-x-light: -18%;
  --offset-y-light: 108%;
  --rotate-light: 0deg;
}

/* MALE LIGHT - RIGHT SHOE */
body[data-gender="male"][data-skin="light"] .layer-overlay.layer-shoes-right {
  transform-origin: center center;
  --scale-light: 0.40;
  --offset-x-light: 13%;
  --offset-y-light: 108%;
  --rotate-light: 0deg;
}

/* MALE DARK - LEFT SHOE */
body[data-gender="male"][data-skin="dark"] .layer-overlay.layer-shoes-left {
  transform-origin: center center;
  --scale-dark: 0.40;
  --offset-x-dark: -18%;
  --offset-y-dark: 108%;
  --rotate-dark: 0deg;
}

/* MALE DARK - RIGHT SHOE */
body[data-gender="male"][data-skin="dark"] .layer-overlay.layer-shoes-right {
  transform-origin: center center;
  --scale-dark: 0.40;
  --offset-x-dark: 13%;
  --offset-y-dark: 108%;
  --rotate-dark: 0deg;
}

/* ========== EYES ========== */
/* FEMALE LIGHT - LEFT EYE */
body[data-gender="female"][data-skin="light"] .layer-overlay.item-u_eyes_blue.layer-left,
body[data-gender="female"][data-skin="light"] .layer-overlay.item-u_eyes_green.layer-left,
body[data-gender="female"][data-skin="light"] .layer-overlay.item-u_eyes_brown.layer-left {
  transform-origin: center top;
  --scale-light: 0.01;
  --offset-x-light: -316%;
  --offset-y-light: 964%;
}

/* FEMALE LIGHT - RIGHT EYE */
body[data-gender="female"][data-skin="light"] .layer-overlay.item-u_eyes_blue.layer-right,
body[data-gender="female"][data-skin="light"] .layer-overlay.item-u_eyes_green.layer-right,
body[data-gender="female"][data-skin="light"] .layer-overlay.item-u_eyes_brown.layer-right {
  transform-origin: center top;
  --scale-light: 0.01;
  --offset-x-light: 506%;
  --offset-y-light: 964%;
}

/* FEMALE DARK - LEFT EYE */
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-u_eyes_blue.layer-left,
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-u_eyes_green.layer-left,
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-u_eyes_brown.layer-left {
  transform-origin: center top;
  --scale-dark: 0.01;
  --offset-x-dark: -293%;
  --offset-y-dark: 978%;
}

/* FEMALE DARK - RIGHT EYE */
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-u_eyes_blue.layer-right,
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-u_eyes_green.layer-right,
body[data-gender="female"][data-skin="dark"] .layer-overlay.item-u_eyes_brown.layer-right {
  transform-origin: center top;
  --scale-dark: 0.01;
  --offset-x-dark: 520%;
  --offset-y-dark: 978%;
}

/* MALE LIGHT - LEFT EYE */
body[data-gender="male"][data-skin="light"] .layer-overlay.item-u_eyes_blue.layer-left,
body[data-gender="male"][data-skin="light"] .layer-overlay.item-u_eyes_green.layer-left,
body[data-gender="male"][data-skin="light"] .layer-overlay.item-u_eyes_brown.layer-left {
  transform-origin: center top;
  --scale-light: 0.01;
  --offset-x-light: -311%;
  --offset-y-light: 970%;
}

/* MALE LIGHT - RIGHT EYE */
body[data-gender="male"][data-skin="light"] .layer-overlay.item-u_eyes_blue.layer-right,
body[data-gender="male"][data-skin="light"] .layer-overlay.item-u_eyes_green.layer-right,
body[data-gender="male"][data-skin="light"] .layer-overlay.item-u_eyes_brown.layer-right {
  transform-origin: center top;
  --scale-light: 0.01;
  --offset-x-light: 520%;
  --offset-y-light: 970%;
}

/* MALE DARK - LEFT EYE */
body[data-gender="male"][data-skin="dark"] .layer-overlay.item-u_eyes_blue.layer-left,
body[data-gender="male"][data-skin="dark"] .layer-overlay.item-u_eyes_green.layer-left,
body[data-gender="male"][data-skin="dark"] .layer-overlay.item-u_eyes_brown.layer-left {
  transform-origin: center top;
  --scale-dark: 0.01;
  --offset-x-dark: -295%;
  --offset-y-dark: 978%;
}

/* MALE DARK - RIGHT EYE */
body[data-gender="male"][data-skin="dark"] .layer-overlay.item-u_eyes_blue.layer-right,
body[data-gender="male"][data-skin="dark"] .layer-overlay.item-u_eyes_green.layer-right,
body[data-gender="male"][data-skin="dark"] .layer-overlay.item-u_eyes_brown.layer-right {
  transform-origin: center top;
  --scale-dark: 0.01;
  --offset-x-dark: 523%;
  --offset-y-dark: 978%;
}
