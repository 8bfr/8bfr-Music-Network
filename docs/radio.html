<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>8BFR Radio</title>
<link rel="icon" href="assets/images/favicon.png" />
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body{background:linear-gradient(#0b0014,#000);color:#eae6ff;font-family:system-ui;margin:0}
  .card{border:1px solid rgba(124,58,237,.35);background:#0c0618;border-radius:14px;box-shadow:0 0 20px rgba(124,58,237,.18);padding:16px}
  .btn{display:inline-block;background:#120327;border:1px solid rgba(124,58,237,.6);color:#eae6ff;padding:.55rem .9rem;border-radius:.7rem;text-decoration:none}
  .btn:hover{background:#190536}
  .row{display:flex;gap:10px;align-items:center}
  .row>button{min-width:70px}
</style>
</head>
<body>
<header class="px-4 py-4 bg-[rgba(15,0,30,.9)] border-b border-purple-500/40">
  <div class="max-w-4xl mx-auto flex items-center justify-between">
    <a href="index.html" class="btn">← Back</a>
    <h1 class="text-xl font-bold">8BFR Radio</h1>
    <span></span>
  </div>
</header>

<main class="max-w-4xl mx-auto px-4 py-6">
  <div class="card">
    <audio id="player" controls style="width:100%"></audio>
    <div id="now" class="mt-2 text-sm opacity-80">Nothing playing</div>
  </div>

  <div class="card mt-4">
    <h3 class="font-bold mb-2">Playlist (demo)</h3>
    <div id="list" class="space-y-2"></div>
  </div>
</main>

<script>
const LIST_KEY='radio_list_v1';
const def=[{title:'Killa Bees (Spotify)', src:'https://open.spotify.com/artist/127tw52iDXr7BvgB0IGG2x'}, {title:'Featured Ad Spot', src:'#'}];
const $=s=>document.querySelector(s); const read=()=>JSON.parse(localStorage.getItem(LIST_KEY)||'null')||def; const write=v=>localStorage.setItem(LIST_KEY,JSON.stringify(v));
const player=$('#player'), now=$('#now');
function play(item){ if(!item) return; now.textContent='Now: '+item.title; if(item.src.startsWith('http') && item.src.includes('open.spotify.com')) { alert('This Spotify item opens in a new tab due to autoplay policies.'); window.open(item.src,'_blank'); } else if(item.src==='#'){ now.textContent='Ad slot — visit Home to see rotating ads.'; player.pause(); player.removeAttribute('src'); } else { player.src=item.src; player.play().catch(()=>{}); } }
function render(){ const list=read(); $('#list').innerHTML=list.map((it,i)=>`<div class="row"><button class="btn" data-i="${i}">Play</button><div>${it.title}</div></div>`).join(''); document.querySelectorAll('#list button').forEach(b=>b.onclick=()=>play(list[b.dataset.i])); }
render();
</script>
</body>
</html>
