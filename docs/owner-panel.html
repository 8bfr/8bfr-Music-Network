```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Owner Panel - 8BFR Music Network</title>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Work+Sans:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    :root{--primary:#ff0066;--secondary:#00ccff;--dark:#0a0a0a;--dark-card:#1a1a1a;--success:#00ff88;--warning:#ffaa00;--danger:#ff0044;--text:#ffffff;--text-dim:#999999;--border:#333333}
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:"Work Sans",sans-serif;background:var(--dark);color:var(--text);line-height:1.6}
    .header{background:linear-gradient(135deg,var(--dark-card) 0%,#000 100%);border-bottom:2px solid var(--primary);padding:1.25rem 1.5rem;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:100}
    .header h1{font-family:"Bebas Neue",sans-serif;font-size:1.6rem;letter-spacing:1px;color:var(--primary)}
    .user-info{display:flex;align-items:center;gap:.75rem}
    .logout-btn{background:var(--danger);color:#fff;border:0;padding:.45rem .9rem;border-radius:6px;cursor:pointer}
    .container{max-width:1200px;margin:1.25rem auto;padding:0 1rem}
    .tabs{display:flex;gap:.5rem;margin-bottom:1rem;border-bottom:1px solid rgba(255,255,255,0.04);overflow:auto}
    .tab{background:transparent;color:var(--text-dim);border:0;padding:.6rem 1rem;cursor:pointer}
    .tab.active{color:var(--primary);border-bottom:3px solid var(--primary)}
    .tab-content{display:none;padding-top:1rem}
    .tab-content.active{display:block}
    .card{background:var(--dark-card);border:1px solid var(--border);border-radius:8px;padding:1rem;margin-bottom:1rem}
    .grid-2{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem}
    .grid-3{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem}
    .search-box{width:100%;padding:.6rem;border-radius:6px;border:1px solid var(--border);background:transparent;color:inherit}
    .btn{background:var(--primary);color:#fff;border:0;padding:.6rem .9rem;border-radius:6px;cursor:pointer}
    .btn.secondary{background:var(--secondary)}
    .btn.danger{background:var(--danger)}
    .btn.warning{background:var(--warning)}
    .form-group{margin-bottom:.75rem}
    label{display:block;margin-bottom:.25rem;color:var(--text-dim);font-size:.9rem}
    input[type="text"],input[type="email"],input[type="password"],select,textarea{width:100%;padding:.6rem;border-radius:6px;border:1px solid var(--border);background:transparent;color:inherit}
    .item-list{max-height:420px;overflow:auto}
    .item{display:flex;justify-content:space-between;align-items:center;padding:.6rem;border-radius:6px;border:1px solid rgba(255,255,255,0.02);margin-bottom:.5rem}
    .checkbox-group{display:flex;gap:.5rem;align-items:center}
    .pill{padding:.25rem .5rem;border-radius:999px;background:rgba(255,255,255,0.03);font-size:.85rem}
    .muted{color:var(--text-dim);font-size:.9rem}
  </style>
</head>
<body>
  <script>alert('JavaScript is running!');</script>
  
  <div class="header">
    <h1>ðŸ‘‘ OWNER PANEL</h1>
    <div class="user-info">
      <span id="ownerName" class="pill">Loading...</span>
      <button class="logout-btn" id="logoutBtn">Logout</button>
    </div>
  </div>

  <div class="container">
    <div class="tabs">
      <button class="tab active" data-tab="dashboard">Dashboard</button>
      <button class="tab" data-tab="verification">Verification</button>
      <button class="tab" data-tab="content">Content</button>
      <button class="tab" data-tab="users">Users</button>
      <button class="tab" data-tab="ads">Ads</button>
      <button class="tab" data-tab="moderation">Moderation</button>
      <button class="tab" data-tab="community">Community</button>
      <button class="tab" data-tab="system">System</button>
    </div>

    <section id="dashboard" class="tab-content active">
      <div class="grid-3">
        <div class="card"><h3 class="muted">Total Users</h3><div id="totalUsers" class="pill">0</div></div>
        <div class="card"><h3 class="muted">Total Posts</h3><div id="totalPosts" class="pill">0</div></div>
        <div class="card"><h3 class="muted">Active Ads</h3><div id="activeAds" class="pill">0</div></div>
      </div>
      <div class="card" style="margin-top:1rem">
        <h3>Quick Actions</h3>
        <div style="display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.5rem">
          <button class="btn" data-goto="verification">Verifications</button>
          <button class="btn" data-goto="users">Manage Users</button>
          <button class="btn secondary" data-goto="content">Content</button>
          <button class="btn danger" data-goto="moderation">Moderation</button>
        </div>
      </div>
    </section>

    <section id="verification" class="tab-content">
      <div class="card">
        <h3>Verification Requests</h3>
        <div class="form-group">
          <label for="verificationFilter">Filter</label>
          <select id="verificationFilter" class="search-box">
            <option value="pending">Pending</option>
            <option value="approved">Approved</option>
            <option value="denied">Denied</option>
            <option value="all">All</option>
          </select>
        </div>
        <div class="item-list" id="verificationRequestsList"><div class="muted">Loading...</div></div>
      </div>

      <div class="card" id="verificationReviewSection" style="display:none">
        <h3>Review Request</h3>
        <div class="grid-2">
          <div>
            <div class="form-group"><label>Username</label><input id="reviewUsername" readonly></div>
            <div class="form-group"><label>Requested Role</label><input id="reviewRole" readonly></div>
            <div class="form-group"><label>Proof Link</label><input id="reviewLink" readonly></div>
          </div>
          <div>
            <div class="form-group"><label>Status</label><input id="reviewStatus" readonly></div>
            <div class="form-group"><label>Submitted</label><input id="reviewCreated" readonly></div>
          </div>
        </div>
        <div style="display:flex;gap:.5rem;margin-top:1rem">
          <button class="btn" id="approveVerificationBtn">Approve</button>
          <button class="btn danger" id="denyVerificationBtn">Deny</button>
          <button class="btn secondary" id="cancelReviewBtn">Cancel</button>
        </div>
      </div>
    </section>

    <section id="content" class="tab-content">
      <div class="card">
        <h3>Posts</h3>
        <input type="text" id="contentSearch" class="search-box" placeholder="Search posts...">
        <div class="item-list" id="postsList" style="margin-top:.5rem"><div class="muted">Loading...</div></div>
      </div>
      <div class="card">
        <h3>Comments</h3>
        <div class="item-list" id="commentsList"><div class="muted">Loading...</div></div>
      </div>
    </section>

    <section id="users" class="tab-content">
      <div class="card">
        <h3>Users</h3>
        <input type="text" id="userSearch" class="search-box" placeholder="Search users...">
        <div class="item-list" id="usersList" style="margin-top:.5rem"><div class="muted">Loading...</div></div>
      </div>

      <div class="card">
        <h3>Edit User</h3>
        <div class="form-group">
          <label>Select User</label>
          <select id="selectedUser" class="search-box"><option value="">-- new user --</option></select>
        </div>
        <div class="grid-2">
          <div>
            <div class="form-group"><label>Email</label><input type="email" id="editEmail"></div>
            <div class="form-group"><label>Username</label><input type="text" id="editUsername"></div>
            <div class="form-group"><label>Display Name</label><input type="text" id="editDisplayName"></div>
            <div class="form-group">
              <label>Role</label>
              <select id="editRole" class="search-box">
                <option value="fan">Fan</option>
                <option value="artist">Artist</option>
                <option value="beatmaker">Beatmaker</option>
                <option value="producer">Producer</option>
                <option value="mod">Moderator</option>
                <option value="admin">Admin</option>
                <option value="owner">Owner</option>
              </select>
            </div>
          </div>
          <div>
            <label>Badges</label>
            <div id="badgeContainer" style="max-height:240px;overflow:auto;margin-top:.5rem"></div>
            <button class="btn secondary" id="clearSelectionBtn" style="margin-top:.5rem">Clear All</button>
          </div>
        </div>
        <div style="display:flex;gap:.5rem;margin-top:1rem">
          <button class="btn" id="saveProfileBtn">Save Profile</button>
          <button class="btn secondary" id="saveTagsBtn">Save Badges Only</button>
        </div>
      </div>
    </section>

    <section id="ads" class="tab-content">
      <div class="card">
        <h3>Advertisements</h3>
        <div class="item-list" id="adsList"><div class="muted">Loading...</div></div>
      </div>
    </section>

    <section id="moderation" class="tab-content">
      <div class="card">
        <h3>Reports</h3>
        <div class="item-list" id="reportsList"><div class="muted">Loading...</div></div>
      </div>
    </section>

    <section id="community" class="tab-content">
      <div class="card">
        <h3>Groups</h3>
        <div class="item-list" id="groupsList"><div class="muted">Loading...</div></div>
      </div>
    </section>

    <section id="system" class="tab-content">
      <div class="card">
        <h3>Banned Words</h3>
        <div class="form-group">
          <label>Add Banned Word</label>
          <div style="display:flex;gap:.5rem">
            <input type="text" id="bannedWordInput" class="search-box" placeholder="Enter word...">
            <button class="btn" id="addBannedWordBtn">Add</button>
          </div>
        </div>
        <div class="item-list" id="bannedWordsList" style="margin-top:.5rem"><div class="muted">Loading...</div></div>
      </div>
    </section>
  </div>

  <script>
    let supabase;
    let currentUser = null;
    
    const badgeList = ['artist','beatmaker','producer','singer','musician','engineer','songwriter','dj','label','promoter','videographer','photographer','filmmaker','podcaster','distributor','rapper','designer','author','blogger','game_creator','developer','streamer','gamer','influencer','brand_ambassador','community_leader','fan','parent','student','educator','supporter','collector','mentor','kids','8bfrfan','fyp','g7','mod','admin','owner','donor','sponsor','contest_winner','tournament_champion','event_participant','early_supporter','top_creator','trending','vip_member','beta_tester','founder','verified','carrie_ai_assistant','carrie_performer','carrie_concert_vip','carrie_fashionista','carrie_voice_clone'];

    function escapeHtml(s){if(!s&&s!==0)return '';return String(s).replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]))}

    setTimeout(() => {
      const SUPABASE_URL = 'https://novbuvwpjnxwwvdekjhr.supabase.co';
      const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5vdmJ1dndwam54d3d2ZGVramhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExODkxODUsImV4cCI6MjA3Njc2NTE4NX0.1UUkdGafh6ZplAX8hi7Bvj94D2gvFQZUl0an1RvcSA0';
      
      supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
      
      supabase.auth.getSession().then(({ data: { session }, error }) => {
        if (error) {
          document.getElementById('ownerName').textContent = 'Session error: ' + error.message;
          console.error('Session error:', error);
          return;
        }
        
        if (!session) {
          document.getElementById('ownerName').textContent = 'No session';
          setTimeout(() => window.location.href = '/login.html', 2000);
          return;
        }
        
        supabase.auth.getUser().then(({ data: { user } }) => {
          currentUser = user;
          console.log('User loaded:', user.email);
          
          supabase.from('profiles').select('*').eq('user_id', user.id).single().then(({ data: profile, error: profileErr }) => {
            if (profileErr) {
              document.getElementById('ownerName').textContent = 'Profile error: ' + profileErr.message;
              console.error('Profile error:', profileErr);
              return;
            }
            
            console.log('Profile loaded:', profile);
            document.getElementById('ownerName').textContent = profile?.username || user.email.split('@')[0];
            
            renderBadgeCheckboxes();
            loadDashboardStats();
            loadUsers();
            setupEventListeners();
          }).catch(err => {
            document.getElementById('ownerName').textContent = 'Profile catch: ' + err.message;
            console.error('Profile catch:', err);
          });
        }).catch(err => {
          document.getElementById('ownerName').textContent = 'User catch: ' + err.message;
          console.error('User catch:', err);
        });
      }).catch(err => {
        document.getElementById('ownerName').textContent = 'Session catch: ' + err.message;
        console.error('Session catch:', err);
      });
      
    }, 1000);

    function setupEventListeners() {
      document.getElementById('logoutBtn').addEventListener('click', () => {
        supabase.auth.signOut().then(() => window.location.href = '/login.html');
      });

      document.querySelectorAll('.tab').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
          document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
          btn.classList.add('active');
          document.getElementById(btn.dataset.tab)?.classList.add('active');
          
          if (btn.dataset.tab === 'verification') loadVerificationRequests();
          if (btn.dataset.tab === 'content') { loadPosts(); loadComments(); }
          if (btn.dataset.tab === 'users') loadUsers();
          if (btn.dataset.tab === 'ads') loadAds();
          if (btn.dataset.tab === 'moderation') { loadReports(); }
          if (btn.dataset.tab === 'community') loadGroups();
          if (btn.dataset.tab === 'system') { loadBannedWords(); }
        });
      });

      document.querySelectorAll('[data-goto]').forEach(b => {
        b.addEventListener('click', () => {
          document.querySelector(`.tab[data-tab="${b.dataset.goto}"]`)?.click();
        });
      });

      document.getElementById('userSearch').addEventListener('input', loadUsers);
      document.getElementById('contentSearch').addEventListener('input', searchContent);
      document.getElementById('verificationFilter').addEventListener('change', loadVerificationRequests);

      document.getElementById('selectedUser').addEventListener('change', () => {
        const uid = document.getElementById('selectedUser').value;
        if (!uid) return;
        selectUser(uid);
      });

      document.getElementById('saveProfileBtn').addEventListener('click', saveProfile);
      document.getElementById('saveTagsBtn').addEventListener('click', saveTags);
      document.getElementById('clearSelectionBtn').addEventListener('click', clearAllSelections);
      document.getElementById('cancelReviewBtn').addEventListener('click', () => {
        document.getElementById('verificationReviewSection').style.display = 'none';
      });

      document.getElementById('approveVerificationBtn').addEventListener('click', () => {
        const id = document.getElementById('approveVerificationBtn').dataset.reqid;
        if (!id) return;
        updateVerificationStatus(id, 'approved');
      });

      document.getElementById('denyVerificationBtn').addEventListener('click', () => {
        const id = document.getElementById('denyVerificationBtn').dataset.reqid;
        if (!id) return;
        updateVerificationStatus(id, 'denied');
      });

      document.getElementById('addBannedWordBtn').addEventListener('click', () => {
        const w = document.getElementById('bannedWordInput').value.trim();
        if (!w) return;
        supabase.from('banned_words').insert({ word: w }).then(() => {
          document.getElementById('bannedWordInput').value = '';
          loadBannedWords();
        });
      });
    }

    function loadDashboardStats() {
      Promise.all([
        supabase.from('profiles').select('*', { count: 'exact', head: true }),
        supabase.from('posts').select('*', { count: 'exact', head: true }),
        supabase.from('ads').select('*', { count: 'exact', head: true })
      ]).then(([users, posts, ads]) => {
        document.getElementById('totalUsers').textContent = users.count || 0;
        document.getElementById('totalPosts').textContent = posts.count || 0;
        document.getElementById('activeAds').textContent = ads.count || 0;
      });
    }

    function loadUsers() {
      const q = document.getElementById('userSearch').value || '';
      let query;
      
      if (q) {
        query = supabase.from('profiles').select('*').or(`username.ilike.%${q}%,display_name.ilike.%${q}%,email.ilike.%${q}%`).limit(100);
      } else {
        query = supabase.from('profiles').select('*').order('created_at', { ascending: false }).limit(200);
      }
      
      query.then(({ data }) => {
        const users = data || [];
        document.getElementById('usersList').innerHTML = users.length ? 
          users.map(u => `<div class="item"><div><strong>${escapeHtml(u.username || u.display_name || u.email || 'user')}</strong><div class="muted">${escapeHtml(u.role || '')}</div></div><div style="display:flex;gap:.4rem"><button class="btn" onclick="selectUser('${u.user_id}')">Edit</button><button class="btn danger" onclick="deleteUser('${u.user_id}')">Delete</button></div></div>`).join('') : 
          '<div class="muted">No users</div>';
        
        const sel = document.getElementById('selectedUser');
        sel.innerHTML = `<option value="">-- new user --</option>` + users.map(u => `<option value="${u.user_id}">${escapeHtml(u.username || u.display_name || u.email)}</option>`).join('');
      });
    }

    function selectUser(uid) {
      if (!uid) {
        document.getElementById('selectedUser').value = '';
        document.getElementById('editEmail').value = '';
        document.getElementById('editUsername').value = '';
        document.getElementById('editDisplayName').value = '';
        document.getElementById('editRole').value = 'fan';
        clearAllSelections();
        return;
      }
      
      supabase.from('profiles').select('*').eq('user_id', uid).single().then(({ data }) => {
        if (!data) return;
        document.getElementById('selectedUser').value = uid;
        document.getElementById('editEmail').value = data.email || '';
        document.getElementById('editUsername').value = data.username || '';
        document.getElementById('editDisplayName').value = data.display_name || '';
        document.getElementById('editRole').value = data.role || 'fan';
        
        clearAllSelections();
        const tags = data.badges || [];
        tags.forEach(t => {
          const cb = document.querySelector(`#badgeContainer input[value="${t}"]`);
          if (cb) cb.checked = true;
        });
      });
    }

    function saveProfile() {
      const uid = document.getElementById('selectedUser').value;
      if (!uid) {
        alert('Select a user first');
        return;
      }
      
      const updates = {
        email: document.getElementById('editEmail').value,
        username: document.getElementById('editUsername').value,
        display_name: document.getElementById('editDisplayName').value,
        role: document.getElementById('editRole').value
      };
      
      supabase.from('profiles').update(updates).eq('user_id', uid).then(() => {
        alert('Profile updated');
        loadUsers();
      });
    }

    function saveTags() {
      const uid = document.getElementById('selectedUser').value;
      if (!uid) {
        alert('Select a user first');
        return;
      }
      
      const badges = Array.from(document.querySelectorAll('#badgeContainer input:checked')).map(cb => cb.value);
      
      supabase.from('profiles').update({ badges }).eq('user_id', uid).then(() => {
        alert('Badges updated');
        loadUsers();
      });
    }

    function deleteUser(uid) {
      if (!confirm('Delete this user?')) return;
      supabase.from('profiles').delete().eq('user_id', uid).then(() => {
        alert('User deleted');
        loadUsers();
      });
    }

    function loadVerificationRequests() {
      const filter = document.getElementById('verificationFilter').value;
      let q = supabase.from('verification_requests').select('*').order('created_at', { ascending: false });
      
      if (filter !== 'all') {
        q = q.eq('status', filter);
      }
      
      q.then(({ data }) => {
        document.getElementById('verificationRequestsList').innerHTML = (data || []).map(r => 
          `<div class="item"><div><strong>${escapeHtml(r.username || 'User')}</strong><div class="muted">${escapeHtml(r.requested_role || '')}</div></div><div><span class="pill">${escapeHtml(r.status || 'pending')}</span><button class="btn" onclick="reviewVerification('${r.id}')">Review</button></div></div>`
        ).join('') || '<div class="muted">No requests</div>';
      });
    }

    function reviewVerification(id) {
      supabase.from('verification_requests').select('*').eq('id', id).single().then(({ data }) => {
        if (!data) return;
        document.getElementById('reviewUsername').value = data.username || '';
        document.getElementById('reviewRole').value = data.requested_role || '';
        document.getElementById('reviewLink').value = data.proof_link || '';
        document.getElementById('reviewStatus').value = data.status || '';
        document.getElementById('reviewCreated').value = new Date(data.created_at).toLocaleString();
        
        document.getElementById('approveVerificationBtn').dataset.reqid = id;
        document.getElementById('denyVerificationBtn').dataset.reqid = id;
        
        document.getElementById('verificationReviewSection').style.display = 'block';
      });
    }

    function updateVerificationStatus(id, status) {
      supabase.from('verification_requests').update({ status }).eq('id', id).then(() => {
        alert(`Request ${status}`);
        document.getElementById('verificationReviewSection').style.display = 'none';
        loadVerificationRequests();
      });
    }

    function loadPosts() {
      supabase.from('posts').select('*').order('created_at', { ascending: false }).limit(100).then(({ data }) => {
        document.getElementById('postsList').innerHTML = (data || []).map(p => 
          `<div class="item"><div><strong>${escapeHtml(p.content?.substring(0, 50) || 'Post')}</strong><div class="muted">${escapeHtml(p.username || 'user')}</div></div><div><button class="btn danger" onclick="deletePost('${p.id}')">Delete</button></div></div>`
        ).join('') || '<div class="muted">No posts</div>';
      });
    }

    function deletePost(id) {
      if (!confirm('Delete?')) return;
      supabase.from('posts').delete().eq('id', id).then(() => loadPosts());
    }

    function loadComments() {
      supabase.from('comments').select('*').order('created_at', { ascending: false }).limit(100).then(({ data }) => {
        document.getElementById('commentsList').innerHTML = (data || []).map(c => 
          `<div class="item"><div><strong>${escapeHtml(c.content?.substring(0, 50) || 'Comment')}</strong><div class="muted">${escapeHtml(c.username || 'user')}</div></div><div><button class="btn danger" onclick="deleteComment('${c.id}')">Delete</button></div></div>`
        ).join('') || '<div class="muted">No comments</div>';
      });
    }

    function deleteComment(id) {
      if (!confirm('Delete?')) return;
      supabase.from('comments').delete().eq('id', id).then(() => loadComments());
    }

    function searchContent() {
      loadPosts();
    }

    function loadAds() {
      supabase.from('ads').select('*').order('created_at', { ascending: false }).then(({ data }) => {
        document.getElementById('adsList').innerHTML = (data || []).map(ad => 
          `<div class="item"><div><strong>${escapeHtml(ad.title || 'Ad')}</strong><div class="muted">${escapeHtml(ad.advertiser || '')}</div></div><div><button class="btn danger" onclick="deleteAd('${ad.id}')">Delete</button></div></div>`
        ).join('') || '<div class="muted">No ads</div>';
      });
    }

    function deleteAd(id) {
      if (!confirm('Delete?')) return;
      supabase.from('ads').delete().eq('id', id).then(() => loadAds());
    }

    function loadReports() {
      supabase.from('reports').select('*').order('created_at', { ascending: false }).then(({ data }) => {
        document.getElementById('reportsList').innerHTML = (data || []).map(r => 
          `<div class="item"><div><strong>${escapeHtml(r.reason || 'Report')}</strong><div class="muted">${escapeHtml(r.reported_by || '')}</div></div><div><button class="btn danger" onclick="deleteReport('${r.id}')">Dismiss</button></div></div>`
        ).join('') || '<div class="muted">No reports</div>';
      });
    }

    function deleteReport(id) {
      if (!confirm('Dismiss?')) return;
      supabase.from('reports').delete().eq('id', id).then(() => loadReports());
    }

    function loadGroups() {
      supabase.from('groups').select('*').order('created_at', { ascending: false }).then(({ data }) => {
        document.getElementById('groupsList').innerHTML = (data || []).map(g => 
          `<div class="item"><div><strong>${escapeHtml(g.name || 'Group')}</strong><div class="muted">${escapeHtml(g.description || '')}</div></div><div><button class="btn danger" onclick="deleteGroup('${g.id}')">Delete</button></div></div>`
        ).join('') || '<div class="muted">No groups</div>';
      });
    }

    function deleteGroup(id) {
      if (!confirm('Delete?')) return;
      supabase.from('groups').delete().eq('id', id).then(() => loadGroups());
    }

    function loadBannedWords() {
      supabase.from('banned_words').select('*').order('created_at', { ascending: false }).then(({ data }) => {
        document.getElementById('bannedWordsList').innerHTML = (data || []).map(d => 
          `<div class="item"><div>${escapeHtml(d.word)}</div><div><button class="btn danger" onclick="removeBannedWord('${d.id}')">Remove</button></div></div>`
        ).join('') || '<div class="muted">No banned words</div>';
      });
    }

    function removeBannedWord(id) {
      if (!confirm('Remove?')) return;
      supabase.from('banned_words').delete().eq('id', id).then(() => loadBannedWords());
    }

    function renderBadgeCheckboxes() {
      const cont = document.getElementById('badgeContainer');
      cont.innerHTML = badgeList.map(b => 
        `<label class="checkbox-group"><input type="checkbox" value="${b}"> <span style="margin-left:.4rem">${b}</span></label>`
      ).join('');
    }

    function clearAllSelections() {
      document.querySelectorAll('#badgeContainer input[type="checkbox"]').forEach(cb => cb.checked = false);
    }
  </script>
</body>
</html>
```

Copy that whole code block and replace your owner-panel.html with it. When you load the page, you should see an alert popup saying "JavaScript is running!" - that will tell us if the JavaScript is working at all.
