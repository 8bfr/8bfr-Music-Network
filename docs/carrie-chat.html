<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Carrie Chat â€” 8BFR Music Network</title>
  <meta name="description" content="Chat with Carrie â€” the 8BFR Music Network AI assistant." />
  <link rel="icon" href="assets/images/favicon.png?v=1" />
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      --ring: rgba(124,58,237,.55);
      --glass: rgba(12,6,24,.78);
    }
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(124,58,237,.30), transparent 60%),
        radial-gradient(900px 400px at 110% 10%, rgba(0,217,255,.22), transparent 60%),
        linear-gradient(#050011,#000);
      color:#eae6ff;
      margin:0;
      min-height:100vh;
      overflow-x:hidden;
    }
    .shell{
      border-radius:20px;
      border:1px solid rgba(129,140,248,.6);
      background:
        radial-gradient(circle at 0 0,rgba(76,29,149,.35),transparent 60%),
        radial-gradient(circle at 100% 0,rgba(14,165,233,.20),transparent 60%),
        rgba(10,6,30,.92);
      box-shadow:0 18px 50px rgba(0,0,0,.8);
    }
    .glass{
      background: var(--glass);
      border:1px solid rgba(148,163,255,.35);
      border-radius:16px;
      box-shadow:0 14px 30px rgba(0,0,0,.55);
    }
    .seg-btn{
      font-size:11px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(148,163,255,.45);
      background:rgba(15,23,42,.85);
      cursor:pointer;
      color:#e5e7eb;
      transition:all .12s ease;
    }
    .seg-btn.active{
      border-color:#a855f7;
      background:linear-gradient(135deg,#7c3aed,#a855f7);
      color:#fff;
      box-shadow:0 0 0 1px rgba(129,140,248,.7),0 0 16px rgba(168,85,247,.55);
    }

    /* Floating Carrie */
    #carrieWrap{
      position:fixed;
      right:16px;
      bottom:16px;
      z-index:50;
      display:flex;
      gap:10px;
      align-items:flex-end;
      pointer-events:none;
    }
    #carrieAvatar{
      width:88px;
      height:88px;
      border-radius:999px;
      border:1px solid rgba(148,163,255,.55);
      background:rgba(2,6,23,.75);
      box-shadow:0 0 0 1px rgba(129,140,248,.35), 0 0 22px rgba(124,58,237,.35);
      object-fit:cover;
      pointer-events:auto;
    }
    #carrieBubble{
      max-width:260px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(148,163,255,.35);
      background:rgba(2,6,23,.80);
      box-shadow:0 0 18px rgba(0,217,255,.10);
      font-size:12px;
      line-height:1.25rem;
      pointer-events:auto;
    }

    /* Chat stream */
    #chatStream{
      height: 52vh;
      min-height: 340px;
      overflow:auto;
      padding:12px;
      border-radius:16px;
      border:1px solid rgba(148,163,255,.25);
      background:rgba(2,6,23,.55);
    }
    .msg{
      display:flex;
      gap:10px;
      margin-bottom:10px;
    }
    .msg .role{
      font-size:10px;
      opacity:.8;
      width:56px;
      flex:0 0 auto;
      text-transform:uppercase;
      letter-spacing:.08em;
    }
    .msg .bubble{
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(148,163,255,.22);
      background:rgba(15,23,42,.78);
      max-width: 100%;
      white-space:pre-wrap;
      word-break:break-word;
      font-size:13px;
      line-height:1.25rem;
    }
    .msg.user .bubble{
      border-color: rgba(34,197,94,.28);
      background: rgba(5,46,22,.72);
    }
    .msg.assistant .bubble{
      border-color: rgba(168,85,247,.28);
      background: rgba(12,6,24,.78);
    }
  </style>
</head>

<body>
  <header class="px-4 py-4">
    <div class="max-w-6xl mx-auto flex items-center justify-between gap-3">
      <div class="flex items-center gap-3">
        <img src="assets/images/logo_8bfr.svg?v=1" alt="8BFR logo" class="h-9 w-auto"
             onerror="this.onerror=null;this.src='assets/images/8bfr.png?v=1'">
        <div>
          <h1 class="text-xl sm:text-2xl font-extrabold">
            <span class="text-[#a855f7]">Carrie Chat</span>
            <span class="text-xs sm:text-sm font-semibold align-middle ml-1 text-emerald-300/80">beta</span>
          </h1>
          <p class="text-[11px] text-purple-300/80 -mt-0.5">
            Your AI avatar assistant â€¢ Create â€¢ Connect â€¢ Collab
          </p>
        </div>
      </div>

      <div class="flex items-center gap-2">
        <a href="carrie-closet.html" class="seg-btn">ðŸ‘— Closet</a>
        <button id="modePro" class="seg-btn active" type="button">ðŸ’¼ Pro</button>
        <button id="modeFun" class="seg-btn" type="button">ðŸ’œ Personal</button>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 pb-10 pt-5">
    <div class="shell p-4 sm:p-5 lg:p-6">
      <div class="glass p-4 sm:p-5">
        <div class="flex items-center justify-between gap-2 mb-3">
          <div class="text-[12px] text-purple-200/80">
            Mode: <b id="modeLabel">Professional</b>
          </div>
          <button id="clearChat" class="seg-btn" type="button">ðŸ§¹ Clear</button>
        </div>

        <div id="chatStream" aria-label="Chat messages"></div>

        <div class="mt-3 flex gap-2">
          <input id="chatInput"
                 class="w-full rounded-xl px-3 py-2 text-[13px] bg-slate-900/70 border border-indigo-300/25 focus:outline-none focus:ring-2 focus:ring-purple-500/40"
                 placeholder="Ask Carrie somethingâ€¦"
                 autocomplete="off" />
          <button id="sendBtn" class="seg-btn active" type="button">Send</button>
        </div>

        <p class="mt-2 text-[11px] text-purple-300/70">
          Tip: This beta chat runs locally (no API). Later you can connect it to your real AI / Supabase logs.
        </p>
      </div>
    </div>
  </main>

  <!-- Floating Carrie -->
  <div id="carrieWrap">
    <div id="carrieBubble">Hi James ðŸ‘‹ Iâ€™m Carrie. Switch modes anytime.</div>
    <img id="carrieAvatar" src="assets/images/Carrie_Casual.png" alt="Carrie avatar"
         onerror="this.onerror=null;this.src='assets/images/carrie.png';">
  </div>

  <script src="carrie-chat.js?v=1"></script>
</body>
</html>
