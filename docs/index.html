<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>8BFR Music Network ‚Äî Create ‚Ä¢ Connect ‚Ä¢ Collab</title>
<meta name="description" content="Empowering creators, connecting the world ‚Äî 8BFR Music Network." />

<!-- Favicon + OpenGraph -->
<link rel="icon" type="image/png" href="assets/images/favicon.png" />
<meta property="og:title" content="8BFR Music Network" />
<meta property="og:description" content="Create ‚Ä¢ Connect ‚Ä¢ Collab" />
<meta property="og:image" content="assets/images/share_preview.jpg" />
<meta property="og:type" content="website" />

<!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: { neon:'#00d9ff', purple:'#7c3aed', ink:'#0b0014' },
      boxShadow: { neon:'0 0 20px rgba(0,217,255,.5), inset 0 0 10px rgba(124,58,237,.35)'},
      dropShadow: { neon:'0 0 6px rgba(0,217,255,.9)'}
    }
  }
}
</script>

<style>
  :root{ --ring: rgba(124,58,237,.55); --bg: #0b0014; --glass: rgba(12,6,24,.92); }
  html,body{scroll-behavior:smooth}
  body{
    background:
      radial-gradient(1200px 600px at 10% -10%, rgba(124,58,237,.35), transparent 60%),
      radial-gradient(900px 400px at 110% 10%, rgba(0,217,255,.22), transparent 60%),
      linear-gradient(#0b0014,#000);
    color:#eae6ff; overflow-x:hidden;
  }

  .marquee{overflow:hidden;white-space:nowrap}
  .marquee span{display:inline-block;padding-left:100%;animation:marq 18s linear infinite}
  @keyframes marq{0%{transform:translateX(0)}100%{transform:translateX(-100%)}}

  /* ===== HERO (8 lines over neon background) ===== */
  .hero{
    position:relative; height:300px; border-radius:1rem; overflow:hidden;
    border:1px solid rgba(124,58,237,.4); box-shadow:0 0 24px rgba(124,58,237,.35);
  }
  .hero::before{
    content:""; position:absolute; inset:0;
    background:url('assets/images/bg_neon.png') center/cover no-repeat;
    filter:brightness(.8) saturate(1.1);
  }
  #hero-text{position:absolute; inset:0; display:grid; place-items:center; text-align:center; padding:0 1rem}
  #hero-line{font-weight:800; transition:opacity .25s ease, transform .25s ease}
  #hero-line.hide{opacity:0; transform:translateY(-8px)}

  /* ===== AD CAROUSEL (one at a time) ===== */
  .ad-frame{position:relative; overflow:hidden; border-radius:1rem; border:1px solid rgba(124,58,237,.4); background:#0c0618}
  .ad-frame img{display:block; width:100%; max-height:260px; object-fit:cover; opacity:0; transition:opacity .35s ease}
  .ad-btn{position:absolute; top:50%; transform:translateY(-50%); background:rgba(0,0,0,.4); border:1px solid rgba(124,58,237,.4); padding:.4rem .6rem; border-radius:.5rem}
  .ad-btn:hover{background:rgba(0,0,0,.55)}
  #adPrev{left:10px} #adNext{right:10px}
  #adPause{right:10px; bottom:10px; top:auto; transform:none}

  /* ===== TOP-RIGHT FAB (music note), sticky while scrolling ===== */
  #hamburgerFab{
    position: fixed; top: 14px; right: 14px; z-index: 9999;
    width: 58px; height: 58px; border-radius: 9999px; display: grid; place-items: center; cursor: pointer;
    background: radial-gradient(120% 120% at 30% 20%, rgba(124,58,237,.9), rgba(10,10,20,.9));
    border: 1px solid rgba(124,58,237,.6);
    box-shadow: 0 0 18px rgba(124,58,237,.5), 0 0 22px rgba(0,217,255,.3) inset;
  }
  #hamburgerFab svg { filter: drop-shadow(0 0 6px rgba(0,217,255,.8)); }

  /* ===== Slide-in menu (categories + dropdowns) ===== */
  #sideMenu{
    position: fixed; top: 72px; right: 14px; width: min(92vw, 360px);
    max-height: calc(100vh - 88px); overflow-y: auto; z-index: 9998;
    transform: translateX(120%); transition: transform .25s ease;
    backdrop-filter: blur(10px); background: var(--glass);
    border:1px solid var(--ring); border-radius: 14px; box-shadow: 0 12px 30px rgba(0,0,0,.45);
  }
  #sideMenu.open{ transform: translateX(0); }
  #menuBackdrop{
    position: fixed; inset: 0; background: rgba(0,0,0,.35); backdrop-filter: blur(1px);
    z-index: 9990; opacity: 0; pointer-events: none; transition: opacity .2s ease;
  }
  #menuBackdrop.open{ opacity: 1; pointer-events: auto; }
  .menu-group{ margin: 8px 10px; border:1px solid rgba(124,58,237,.35); border-radius: 10px; overflow:hidden }
  .menu-group summary{ cursor: pointer; padding:10px 12px; background: rgba(124,58,237,.15) }
  .menu-group a{ display:block; padding:8px 12px; color:#eae6ff; text-decoration:none }
  .menu-group a:hover{ background: rgba(124,58,237,.18) }

  /* ===== Carrie: draggable + subtle animations; slides aside when menu opens ===== */
  #carrieWrap{ position: fixed; right: 14px; bottom: 16px; z-index: 9997; transition: transform .25s ease; user-select:none; touch-action:none }
  #sideMenu.open ~ #carrieWrap{ transform: translateX(-380px); }
  #carrie{
    width: 84px; height: 84px; border-radius: 9999px; object-fit: cover; background:#12001f;
    box-shadow: inset 0 0 10px rgba(0,0,0,.35), 0 0 18px rgba(124,58,237,.45), 0 0 10px rgba(0,217,255,.35) inset;
    animation: carrie-bob 3.5s ease-in-out infinite;
  }
  @keyframes carrie-bob{
    0%,100%{ transform: translateY(0) }
    50%{ transform: translateY(-4px) }
  }
  #carrieWrap.juggle #carrie{ animation: carrie-juggle 1s ease-in-out infinite }
  @keyframes carrie-juggle{
    0%,100%{ transform: rotate(-2deg) }
    50%{ transform: rotate(2deg) }
  }

  /* Back-to-top */
  #backToTop{ position: fixed; right: 14px; bottom: 100px; z-index: 20; display:none }

  /* Utility */
  .section-card{ border:1px solid rgba(124,58,237,.35); background:#0c0618; border-radius:1rem; box-shadow: 0 0 24px rgba(124,58,237,.15) }
  .btn{ display:inline-block; background:#120327; border:1px solid rgba(124,58,237,.6); color:#eae6ff; padding:.55rem .9rem; border-radius:.7rem }
  .btn:hover{ background:#190536 }
</style>
</head>
<body class="selection:bg-purple/30">

<!-- ===== Floating FAB (music note) ===== -->
<button id="hamburgerFab" aria-controls="sideMenu" aria-expanded="false" aria-label="Open menu" title="Menu">
  <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#00d9ff" stroke-width="2">
    <path d="M9 18V5l10-2v13" />
    <circle cx="7" cy="18" r="3" />
    <circle cx="17" cy="16" r="3" />
  </svg>
</button>
<!-- Menu backdrop -->
<div id="menuBackdrop"></div>

<!-- ===== Slide-in MENU (categories + dropdowns) ===== -->
<nav id="sideMenu" aria-hidden="true">
  <details class="menu-group" open><summary>Home</summary>
    <a href="index.html">Dashboard</a>
    <a href="#ads-info">How Ads Work</a>
    <a href="#donate">Donate</a>
    <a href="#killa-bees">Killa Bees</a>
  </details>
  <details class="menu-group"><summary>Studio & AI</summary>
    <a href="studio-tools.html">All Tools</a>
    <a href="lyrics-ai.html">AI Lyrics</a>
    <a href="song-ai.html">AI Song</a>
    <a href="album-ai.html">AI Album</a>
    <a href="voice-ai.html">Voice / Post VO</a>
  </details>
  <details class="menu-group"><summary>Tournaments</summary>
    <a href="game-tournaments.html">Overview</a>
    <a href="game-leaderboards.html">Leaderboards</a>
    <a href="game-hub.html">Game Hub</a>
  </details>
  <details class="menu-group"><summary>Community</summary>
    <a href="feed.html">Feed</a>
    <a href="profiles.html">Profiles</a>
    <a href="featured.html">Featured</a>
  </details>
  <details class="menu-group"><summary>Shop</summary>
    <a href="shop.html">Store</a>
    <a href="coinshop.html">Coin Shop</a>
    <a href="upgrades.html">Upgrades</a>
  </details>
  <details class="menu-group"><summary>More</summary>
    <a href="radio.html">Radio</a>
    <a href="donate.html">Donate</a>
    <a href="contact.html">Contact</a>
    <a href="privacy.html">Privacy</a>
    <a href="terms.html">Terms</a>
  </details>
</nav>

<!-- ===== Carrie (draggable) ===== -->
<div id="carrieWrap" title="Chat with Carrie (drag me)">
  <img id="carrie"
       src="assets/images/carrie_casual.png"
       alt="Carrie"
       onerror="this.onerror=null;this.src='assets/images/default_user_32_40.png'">
</div>

<!-- ===== HEADER ===== -->
<header class="max-w-6xl mx-auto px-4 pt-6 pb-3">
  <div class="flex items-end justify-between gap-3">
    <div class="flex items-center gap-3">
      <img src="assets/images/logo_8bfr.svg" alt="8BFR logo" class="h-10 w-auto"
           onerror="this.onerror=null;this.src='assets/images/logo_8bfr.png'">
      <div>
        <h1 class="text-2xl sm:text-3xl font-extrabold drop-shadow-neon">8BFR <span class="text-neon">Music</span> Network</h1>
        <p class="text-xs sm:text-sm text-purple/80 -mt-1">Create ‚Ä¢ Connect ‚Ä¢ Collab</p>
      </div>
    </div>
    <a href="mailto:8bfr.music@gmail.com" class="text-neon underline/50 hover:underline">Contact</a>
  </div>

  <!-- Marquee (links to ads-info) -->
  <div class="marquee mt-4 rounded-xl border border-purple/40 bg-black/30 shadow-neon">
    <span class="py-2 px-3">
      <a href="#ads-info" class="hover:underline">
        üéÆ Tournaments ‚Ä¢ üéµ Studio & AI Tools ‚Ä¢ üéôÔ∏è Influencer AI ‚Ä¢ ‚úçÔ∏è Author AI ‚Ä¢ üîÑ Stream Mirroring ‚Ä¢ üõí Seller Tools ‚Ä¢ ü§ñ Carrie AI ‚Ä¢ üîé Explore everything.
      </a>
    </span>
  </div>
</header>

<!-- ===== HERO ===== -->
<section class="max-w-6xl mx-auto px-4 mt-5" aria-label="Site highlights">
  <div class="hero">
    <div id="hero-text">
      <h2 id="hero-line" class="text-2xl sm:text-3xl text-center">Loading‚Ä¶</h2>
    </div>
  </div>
</section>

<!-- ===== AD CAROUSEL (single) ===== -->
<section class="max-w-6xl mx-auto px-4 mt-6">
  <div id="adCarousel" class="ad-frame">
    <a id="adLink" href="#" target="_blank" rel="noopener" class="block">
      <img id="adImage" src="assets/images/ad_banner_1.jpg" alt="Ad">
    </a>
    <button id="adPrev" aria-label="Previous" class="ad-btn">‚Äπ</button>
    <button id="adNext" aria-label="Next" class="ad-btn">‚Ä∫</button>
    <button id="adPause" class="ad-btn" style="top:auto;bottom:10px">Pause</button>
  </div>
</section>

<!-- ===== HOW ADS WORK + BUY AD BUTTON ===== -->
<section id="ads-info" class="max-w-6xl mx-auto px-4 mt-8 section-card p-5">
  <h3 class="text-xl font-bold mb-2">How Ads Work</h3>
  <p class="text-sm opacity-85 mb-4">
    There are always 5 ad slots in rotation. When someone buys an ad, it replaces a placeholder until it expires‚Äîthen the placeholder returns.
    Click any ad to open it in a larger view. You can pause and manually navigate with the arrows.
  </p>
  <a href="ads.html" class="btn">Buy an Ad</a>
</section>

<!-- ===== DONATE ===== -->
<section id="donate" class="max-w-6xl mx-auto px-4 mt-6 section-card p-5">
  <h3 class="text-xl font-bold mb-2">Support 8BFR</h3>
  <p class="text-sm opacity-85 mb-4">Help us empower creators and keep the lights neon üíú</p>
  <a class="btn" href="https://www.paypal.com/donate?business=8bfr.music@gmail.com" target="_blank" rel="noopener">Donate via PayPal</a>
</section>

<!-- ===== KILLA BEES + SPOTIFY LINK ===== -->
<section id="killa-bees" class="max-w-6xl mx-auto px-4 mt-6 section-card p-5">
  <h3 class="text-xl font-bold mb-2">Killa Bees ‚Äî Now Playing</h3>
  <audio controls autoplay style="width:100%;max-width:600px">
    <source src="assets/audio/killa_bees.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>
  <div class="mt-3">
    <a href="https://open.spotify.com/artist/127tw52iDXr7BvgB0IGG2x" target="_blank" rel="noopener" class="btn">Open 8BFR on Spotify</a>
  </div>
</section>

<!-- ===== FEATURED ARTISTS ===== -->
<section class="max-w-6xl mx-auto px-4 mt-6 section-card p-5">
  <h3 class="text-xl font-bold mb-4">Featured Artists</h3>
  <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
    <a href="profile_artist.html" class="block rounded-lg border border-purple/30 bg-black/30 p-4 hover:bg-black/40">
      <img src="assets/images/default_user_32_40.png" class="w-full h-40 object-cover rounded-md mb-2" alt="">
      <div class="font-semibold">Artist Name</div>
      <div class="text-sm text-purple/70">Hip-hop ‚Ä¢ Beats</div>
    </a>
    <a href="profile_artist.html" class="block rounded-lg border border-purple/30 bg-black/30 p-4 hover:bg-black/40">
      <img src="assets/images/default_user_35_40_girl.png" class="w-full h-40 object-cover rounded-md mb-2" alt="">
      <div class="font-semibold">Artist Name</div>
      <div class="text-sm text-purple/70">R&B ‚Ä¢ Soul</div>
    </a>
    <a href="profile_artist.html" class="block rounded-lg border border-purple/30 bg-black/30 p-4 hover:bg-black/40">
      <img src="assets/images/default_user_41_+.png" class="w-full h-40 object-cover rounded-md mb-2" alt="">
      <div class="font-semibold">Artist Name</div>
      <div class="text-sm text-purple/70">Producer</div>
    </a>
  </div>
</section>

<!-- ===== FEATURED SONGS ===== -->
<section class="max-w-6xl mx-auto px-4 mt-6 section-card p-5">
  <h3 class="text-xl font-bold mb-4">Featured Songs</h3>
  <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
    <a href="song.html" class="block rounded-lg border border-purple/30 bg-black/30 p-4 hover:bg-black/40">
      <img src="assets/images/default_post.jpg" class="w-full h-40 object-cover rounded-md mb-2" alt="">
      <div class="font-semibold">Track Title</div>
      <div class="text-sm text-purple/70">Artist ‚Ä¢ 3:12</div>
    </a>
    <a href="song.html" class="block rounded-lg border border-purple/30 bg-black/30 p-4 hover:bg-black/40">
      <img src="assets/images/default_post.jpg" class="w-full h-40 object-cover rounded-md mb-2" alt="">
      <div class="font-semibold">Track Title</div>
      <div class="text-sm text-purple/70">Artist ‚Ä¢ 2:58</div>
    </a>
    <a href="song.html" class="block rounded-lg border border-purple/30 bg-black/30 p-4 hover:bg-black/40">
      <img src="assets/images/default_post.jpg" class="w-full h-40 object-cover rounded-md mb-2" alt="">
      <div class="font-semibold">Track Title</div>
      <div class="text-sm text-purple/70">Artist ‚Ä¢ 4:01</div>
    </a>
  </div>
</section>

<!-- ===== COMMUNITY FEED PREVIEW ===== -->
<section class="max-w-6xl mx-auto px-4 mt-6 section-card p-5">
  <h3 class="text-xl font-bold mb-3">Community Feed</h3>
  <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
    <div class="rounded-lg border border-purple/30 bg-black/30 p-3">
      <div class="text-sm opacity-80">@user ‚Ä¢ 2m ago</div>
      <div>Just dropped a new beat! üî•</div>
    </div>
    <div class="rounded-lg border border-purple/30 bg-black/30 p-3">
      <div class="text-sm opacity-80">@dj ‚Ä¢ 9m ago</div>
      <div>Live on radio in 10!</div>
    </div>
    <div class="rounded-lg border border-purple/30 bg-black/30 p-3">
      <div class="text-sm opacity-80">@singer ‚Ä¢ 15m ago</div>
      <div>Studio session tonight üé§</div>
    </div>
  </div>
  <a href="feed.html" class="btn mt-3 inline-block">Open Feed</a>
</section>

<!-- ===== RADIO PREVIEW ===== -->
<section class="max-w-6xl mx-auto px-4 mt-6 section-card p-5">
  <h3 class="text-xl font-bold mb-2">8BFR Radio</h3>
  <p class="text-sm opacity-85 mb-3">Tune in to community picks & live sets.</p>
  <audio controls style="width:100%;max-width:600px">
    <source src="assets/audio/radio_preview.mp3" type="audio/mpeg">
  </audio>
</section>

<!-- ===== FOOTER ===== -->
<footer class="mt-12 pb-28 sm:pb-16 border-t border-purple/30 pt-8 bg-black/30">
  <div class="max-w-6xl mx-auto px-4 grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
    <div>
      <div class="font-bold mb-2">8BFR</div>
      <a class="block opacity-85 hover:underline" href="index.html">Home</a>
      <a class="block opacity-85 hover:underline" href="about.html">About</a>
      <a class="block opacity-85 hover:underline" href="contact.html">Contact</a>
    </div>
    <div>
      <div class="font-bold mb-2">Studio & AI</div>
      <a class="block opacity-85 hover:underline" href="studio-tools.html">All Tools</a>
      <a class="block opacity-85 hover:underline" href="lyrics-ai.html">AI Lyrics</a>
      <a class="block opacity-85 hover:underline" href="song-ai.html">AI Song</a>
      <a class="block opacity-85 hover:underline" href="album-ai.html">AI Album</a>
    </div>
    <div>
      <div class="font-bold mb-2">Community</div>
      <a class="block opacity-85 hover:underline" href="feed.html">Feed</a>
      <a class="block opacity-85 hover:underline" href="profiles.html">Profiles</a>
      <a class="block opacity-85 hover:underline" href="featured.html">Featured</a>
    </div>
    <div>
      <div class="font-bold mb-2">Legal</div>
      <a class="block opacity-85 hover:underline" href="privacy.html">Privacy</a>
      <a class="block opacity-85 hover:underline" href="terms.html">Terms</a>
    </div>
  </div>
  <div class="max-w-6xl mx-auto px-4 mt-6 text-center text-xs text-purple/70">
    ¬© 2025 8BFR Music Network ‚Äî ‚ÄúEmpowering creators, connecting the world ‚Äî 8BFR Music Network.‚Äù
  </div>
</footer>

<!-- Back to top -->
<a id="backToTop" href="#top" class="btn">Back to top</a>

<!-- ===== SCRIPTS ===== -->
<script>
/* ==== HERO rotator (8 lines) ==== */
(function(){
  const lines = [
    "Game Tournaments (Win Free Coins)",
    "Music Studio ‚Äî AI Lyrics Generator & AI Beat Creator (Artists & Beatmakers)",
    "AI Post Creator with Voiceover (Influencers)",
    "AI Helper for Authors",
    "Mirror Your Streams from Other Sites",
    "Seller Options in Shop ‚Äî Group 7 (G7) Perks",
    "Carrie ‚Äî AI Chat & Helper",
    "Explore the site to find all features"
  ];
  const el = document.getElementById('hero-line');
  if(!el) return;
  let i = 0;
  const show = () => {
    el.classList.add('hide');
    setTimeout(()=>{
      i = (i+1) % lines.length;
      el.textContent = lines[i];
      el.classList.remove('hide');
    }, 250);
  };
  el.textContent = lines[0];
  setInterval(show, 5000);
})();

/* ==== AD carousel (single) ==== */
(function(){
  const ads = [
    {img:'assets/images/ad_banner_1.jpg', url:'#'},
    {img:'assets/images/ad_banner_2.jpg', url:'#'},
    {img:'assets/images/ad_banner_3.jpg', url:'#'},
    {img:'assets/images/ad_banner_4.jpg', url:'#'},
    {img:'assets/images/ad_banner_5.jpg', url:'#'}
  ];
  let i=0, paused=false, t=null;
  const img = document.getElementById('adImage');
  const link = document.getElementById('adLink');
  const prev = document.getElementById('adPrev');
  const next = document.getElementById('adNext');
  const pause = document.getElementById('adPause');

  function show(idx){
    i = (idx+ads.length)%ads.length;
    img.style.opacity = 0;
    setTimeout(()=>{ link.href = ads[i].url || '#'; img.src = ads[i].img; }, 180);
    setTimeout(()=>{ img.style.opacity = 1; }, 200);
  }
  function auto(){ if(paused) return; show(i+1); schedule(); }
  function schedule(){ clearTimeout(t); t = setTimeout(auto, 5000); }
  prev.onclick = ()=>{ if(!paused){ paused=true; pause.textContent='Play'; } show(i-1); };
  next.onclick = ()=>{ if(!paused){ paused=true; pause.textContent='Play'; } show(i+1); };
  pause.onclick = ()=>{ paused=!paused; pause.textContent = paused ? 'Play' : 'Pause'; if(!paused) schedule(); else clearTimeout(t); };

  show(0); schedule();
})();

/* ==== Floating menu logic (auto-close after 20s) ==== */
(function(){
  const fab = document.getElementById('hamburgerFab');
  const menu = document.getElementById('sideMenu');
  const backdrop = document.getElementById('menuBackdrop');
  let timer = null;
  function openMenu(){ menu.classList.add('open'); backdrop.classList.add('open'); fab.setAttribute('aria-expanded','true'); resetTimer(); }
  function closeMenu(){ menu.classList.remove('open'); backdrop.classList.remove('open'); fab.setAttribute('aria-expanded','false'); clearTimeout(timer); timer=null; }
  function resetTimer(){ clearTimeout(timer); timer = setTimeout(closeMenu, 20000); }
  fab.addEventListener('click', (e)=>{ e.stopPropagation(); menu.classList.contains('open')?closeMenu():openMenu(); });
  backdrop.addEventListener('click', closeMenu);
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeMenu(); });
  menu.addEventListener('pointermove', resetTimer);
  menu.addEventListener('wheel', resetTimer);
})();

/* ==== Carrie: hover swap, draggable, click to chat ==== */
(function(){
  const wrap = document.getElementById('carrieWrap');
  const img  = document.getElementById('carrie');
  // hover swap to business if present
  img.addEventListener('mouseenter', ()=> {
    const t = new Image();
    t.onload = ()=>{ img.dataset.src = img.src; img.src = 'assets/images/carrie_business.png'; };
    t.src = 'assets/images/carrie_business.png';
  });
  img.addEventListener('mouseleave', ()=> { if(img.dataset.src){ img.src = img.dataset.src; delete img.dataset.src; }});
  // click opens chat
  img.addEventListener('click', ()=> { location.href = 'carrie-chat.html'; });

  // draggable
  let dragging=false, sx=0, sy=0, ox=0, oy=0;
  const getXY = (e)=>('touches' in e)?[e.touches[0].clientX,e.touches[0].clientY]:[e.clientX,e.clientY];
  const onDown = (e)=>{ dragging=true; [sx,sy]=getXY(e); const r=wrap.getBoundingClientRect(); ox=r.left; oy=r.top; e.preventDefault(); }
  const onMove = (e)=>{ if(!dragging) return; const [x,y]=getXY(e); const dx=x-sx, dy=y-sy; wrap.style.right = 'auto'; wrap.style.bottom='auto'; wrap.style.left = (ox+dx)+'px'; wrap.style.top=(oy+dy)+'px'; }
  const onUp = ()=> dragging=false;
  wrap.addEventListener('mousedown', onDown); wrap.addEventListener('touchstart', onDown, {passive:false});
  window.addEventListener('mousemove', onMove, {passive:false}); window.addEventListener('touchmove', onMove, {passive:false});
  window.addEventListener('mouseup', onUp); window.addEventListener('touchend', onUp);
})();

/* ==== Back to top show/hide ==== */
(function(){
  const btn = document.getElementById('backToTop');
  const onScroll = ()=>{ btn.style.display = window.scrollY > 600 ? 'block' : 'none'; };
  window.addEventListener('scroll', onScroll); onScroll();
})();
</script>

</body>
</html>
