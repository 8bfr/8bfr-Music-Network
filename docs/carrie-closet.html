<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Carrie Closet â€” BF/GF Wardrobe â€¢ 8BFR Music Network</title>
  <meta name="description" content="Build your BF/GF avatar wardrobe for the 8BFR Music Network: outfits, hair, eyes, jewelry and more." />
  <link rel="icon" href="assets/images/favicon.png" />
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root {
      --ring: rgba(124,58,237,.55);
      --glass: rgba(12,6,24,.80);
    }
    html,body { scroll-behavior:smooth; }
    body {
      font-family: system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(124,58,237,.35), transparent 60%),
        radial-gradient(900px 400px at 110% 10%, rgba(0,217,255,.22), transparent 60%),
        linear-gradient(#0b0014,#000);
      color:#eae6ff;
      margin:0;
      min-height:100vh;
      overflow-x:hidden;
    }
    header{
      position:relative;
      z-index:5;
      background:rgba(15,0,30,.9);
      border-bottom:1px solid rgba(124,58,237,.5);
    }
    .shell{
      border-radius:18px;
      border:1px solid rgba(124,58,237,.55);
      background:rgba(10,2,26,.95);
      box-shadow:0 16px 40px rgba(0,0,0,.75);
    }
    /* Preview avatar layering */
    #avatarPreview {
      position:relative;
      width:100%;
      max-width:320px;
      margin-inline:auto;
      aspect-ratio:3/4;
      background:radial-gradient(circle at 50% 0,rgba(124,58,237,.35),transparent 60%),#020014;
      border-radius:18px;
      border:1px solid rgba(129,140,248,.75);
      overflow:hidden;
      box-shadow:0 16px 40px rgba(15,6,40,.9);
    }
    #avatarPreview img {
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:contain;
      pointer-events:none;
    }

    /* Hide global Carrie avatar on this page only (but keep hamburger/menu) */
    #bubbleStack,
    #bubble-top-single,
    #carrieWrap,
    #globalAvatarSwitch {
      display:none !important;
    }

    .badge {
      display:inline-flex;
      align-items:center;
      gap:.25rem;
      padding:.15rem .55rem;
      border-radius:999px;
      font-size:.7rem;
      border:1px solid rgba(129,140,248,.7);
      background:rgba(15,23,42,.95);
      text-transform:uppercase;
      letter-spacing:.08em;
    }

    .pill-button {
      padding:.25rem .75rem;
      border-radius:999px;
      border:1px solid transparent;
      font-size:.75rem;
      cursor:pointer;
      background:transparent;
      color:#e5e7eb;
    }
    .pill-button.active {
      background:#7c3aed;
      border-color:#a855f7;
      color:#fff;
      box-shadow:0 0 12px rgba(168,85,247,.7);
    }

    .category-button {
      padding:.3rem .8rem;
      border-radius:999px;
      border:1px solid rgba(129,140,248,.45);
      font-size:.75rem;
      cursor:pointer;
      background:rgba(15,23,42,.9);
      color:rgba(233,213,255,.9);
      white-space:nowrap;
    }
    .category-button.active {
      background:#4c1d95;
      border-color:#a855f7;
      box-shadow:0 0 10px rgba(168,85,247,.6);
    }

    .item-card {
      background:rgba(15,23,42,.96);
      border-radius:12px;
      border:1px solid rgba(75,85,99,.9);
      padding:.6rem;
      display:flex;
      flex-direction:column;
      gap:.3rem;
      font-size:.8rem;
    }
    .item-card.premium {
      border-color:#a855f7;
      box-shadow:0 0 12px rgba(168,85,247,.35);
    }
    .item-thumb {
      height:80px;
      border-radius:10px;
      background:radial-gradient(circle at 50% 0,rgba(129,140,248,.25),transparent 60%);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .item-thumb img {
      max-height:100%;
      max-width:100%;
      object-fit:contain;
    }
    .item-equip {
      font-size:.75rem;
      padding:.25rem .5rem;
      border-radius:999px;
      border:1px solid rgba(129,140,248,.8);
      background:rgba(15,23,42,.9);
      cursor:pointer;
    }
    .item-equip.active {
      background:#22c55e;
      border-color:#22c55e;
      color:#021;
    }

    @media (max-width:768px){
      #avatarPreview {
        max-width:260px;
      }
    }
  </style>
</head>

<body data-no-global-carrie="true">
  <header class="px-4 py-4">
    <div class="max-w-6xl mx-auto flex items-center justify-between gap-3">
      <div class="flex items-center gap-3">
        <img src="assets/images/logo_8bfr.svg"
             alt="8BFR logo"
             class="h-9 w-auto"
             onerror="this.onerror=null;this.src='assets/images/8bfr.png'">
        <div>
          <h1 class="text-xl sm:text-2xl font-extrabold">
            <span class="text-[#a855f7]">Carrie Closet</span>
            <span class="hidden sm:inline"> â€” BF / GF Wardrobe</span>
          </h1>
          <p class="text-[11px] text-purple-300/80 -mt-0.5">
            Avatar outfits for Boyfriend / Girlfriend chat modes.
          </p>
        </div>
      </div>
      <a href="carrie-chat.html"
         class="hidden sm:inline text-[#00d9ff] text-xs sm:text-sm underline/50 hover:underline">
        â¬… Back to Carrie Chat
      </a>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 pb-10 pt-4">
    <div class="shell p-4 sm:p-5">
      <!-- Top row: gender + info -->
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4">
        <div class="flex items-center gap-2 flex-wrap">
          <button id="genderFemaleBtn" type="button" class="pill-button active">
            ðŸ‘© Female avatar
          </button>
          <button id="genderMaleBtn" type="button" class="pill-button">
            ðŸ‘¨ Male avatar
          </button>
          <span class="badge">
            ðŸª™ Closet items use <b class="ml-1">Game Coins</b>
          </span>
        </div>
        <p class="text-[11px] text-purple-200/80 max-w-md">
          These looks are for <b>Boyfriend / Girlfriend chat only</b>.  
          Business & Personal chat keep the animated video avatars.
        </p>
      </div>

      <!-- Main layout: preview + controls -->
      <div class="grid md:grid-cols-[minmax(0,1.1fr)_minmax(0,1.4fr)] gap-6">
        <!-- Preview side -->
        <section>
          <h2 class="text-sm font-semibold text-purple-100 mb-2">
            Live Preview
          </h2>
          <div id="avatarPreview">
            <img id="avatarBase" alt="Base skin">
            <img id="avatarBottom" alt="Bottom clothing">
            <img id="avatarTop" alt="Top clothing">
            <img id="avatarHair" alt="Hair">
            <img id="avatarEyes" alt="Eyes">
            <img id="avatarJewelry" alt="Jewelry">
            <img id="avatarShoes" alt="Shoes">
          </div>
          <div class="mt-3 text-[11px] text-purple-200/85 space-y-1">
            <p id="previewSummary">
              Loading Carrie Closetâ€¦
            </p>
            <p>
              Tip: your choices save to this device. Later weâ€™ll link this with your 8BFR account + coin balance.
            </p>
          </div>
        </section>

        <!-- Controls side -->
        <section class="flex flex-col gap-3">
          <!-- Categories -->
          <div>
            <h2 class="text-sm font-semibold text-purple-100 mb-2">
              Categories
            </h2>
            <div id="categoryRow"
                 class="flex flex-wrap gap-2 text-[11px]">
              <!-- Filled by JS -->
            </div>
          </div>

          <!-- Items grid -->
          <div class="flex-1 min-h-[220px]">
            <div class="flex items-center justify-between mb-1">
              <p class="text-xs text-purple-200/80">
                <span id="itemCountLabel">Loading itemsâ€¦</span>
              </p>
              <a href="coinshop.html"
                 class="text-[11px] text-emerald-300 hover:text-emerald-200 underline/40 hover:underline flex items-center gap-1">
                ðŸª™ Buy coins
              </a>
            </div>
            <div id="itemsGrid" class="grid grid-cols-1 sm:grid-cols-2 gap-2.5">
              <!-- Cards filled by JS -->
            </div>
          </div>
        </section>
      </div>

      <!-- Note -->
      <p class="mt-4 text-[11px] text-purple-300/80">
        Premium / sexy outfits cost more coins.  
        Later, upgrading to <b>BF / GF chat</b> will unlock these looks during conversation.
      </p>
    </div>
  </main>

  <!-- Global 8BFR UI (hamburger, etc.) -->
  <script src="scripts.js?v=1" defer></script>

  <!-- Closet data + logic -->
  <script src="carrie-closet--data.js?v=1"></script>
  <script src="carrie-closet.js?v=1"></script>
</body>
</html>
