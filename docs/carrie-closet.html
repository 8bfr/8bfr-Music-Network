<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Carrie Closet â€” 8BFR Music Network</title>
<meta name="description" content="Customize your Carrie, James, or partner avatar with outfits, hair, accessories and more using 8BFR coins." />
<link rel="icon" href="assets/images/favicon.png?v=15" />
<script src="https://cdn.tailwindcss.com"></script>

<style>
/* ============================= */
/* GLOBAL LAYER OVERLAY SETTINGS */
/* ============================= */
.layer-overlay {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    pointer-events: none;
    image-rendering: auto;

    /* Unified transform: supports per-item variables AND per-side/eyes/shoes variables */
    transform: translate(
        var(--offset-x-use, var(--offset-x, 0%)),
        var(--offset-y-use, var(--offset-y, 0%))
    ) scale(var(--scale-use, var(--scale, 1)));
    transform-origin: center top; /* default origin */
}

/* ============================= */
/* BODY / ROOT VARIABLES          */
/* ============================= */
:root {
    --ring: rgba(124,58,237,.55);
    --glass: rgba(12,6,24,.80);
}

body {
    font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
    background:
        radial-gradient(1200px 600px at 10% -10%, rgba(124,58,237,.30), transparent 60%),
        radial-gradient(900px 400px at 110% 10%, rgba(0,217,255,.22), transparent 60%),
        linear-gradient(#050011,#000);
    color: #eae6ff;
    margin: 0;
    min-height: 100vh;
    overflow-x: hidden;
}

/* ============================= */
/* EARRING POSITION VARIABLES     */
/* ============================= */
body[data-gender="female"][data-skin="light"] {
    --ear-left-x: -6%;
    --ear-left-y: -6%;
    --ear-right-x: 6%;
    --ear-right-y: -20%;
    --ear-scale: 1;
}

body[data-gender="female"][data-skin="dark"] {
    --ear-left-x: 0%;
    --ear-left-y: 0%;
    --ear-right-x: 0%;
    --ear-right-y: 0%;
    --ear-scale: 1;
}

/* ============================= */
/* EARRING TRANSFORMS             */
/* ============================= */
.item-f_jewel_ears.layer-left {
    --offset-x-use: var(--ear-left-x);
    --offset-y-use: var(--ear-left-y);
    --scale-use: var(--ear-scale);
}

.item-f_jewel_ears.layer-right {
    --offset-x-use: var(--ear-right-x);
    --offset-y-use: var(--ear-right-y);
    --scale-use: var(--ear-scale);
}

/* ============================= */
/* EYES & SHOES PER-SIDE OVERRIDES */
/* ============================= */
body[data-gender="female"] .layer-shoes-left {
    --offset-x-use: -6%;
}
body[data-gender="female"] .layer-shoes-right {
    --offset-x-use: 6%;
}

/* Light/Dark splits already stored in --f-/--m- variables */
body[data-gender="female"][data-skin="light"] .layer-shoes-left {
    --scale-use: var(--f-shoes-left-light-scale, var(--scale-use));
    --offset-x-use: var(--f-shoes-left-light-x, var(--offset-x-use));
    --offset-y-use: var(--f-shoes-left-light-y, var(--offset-y-use));
}
body[data-gender="female"][data-skin="light"] .layer-shoes-right {
    --scale-use: var(--f-shoes-right-light-scale, var(--scale-use));
    --offset-x-use: var(--f-shoes-right-light-x, var(--offset-x-use));
    --offset-y-use: var(--f-shoes-right-light-y, var(--offset-y-use));
}
body[data-gender="female"][data-skin="dark"] .layer-shoes-left {
    --scale-use: var(--f-shoes-left-dark-scale, var(--scale-use));
    --offset-x-use: var(--f-shoes-left-dark-x, var(--offset-x-use));
    --offset-y-use: var(--f-shoes-left-dark-y, var(--offset-y-use));
}
body[data-gender="female"][data-skin="dark"] .layer-shoes-right {
    --scale-use: var(--f-shoes-right-dark-scale, var(--scale-use));
    --offset-x-use: var(--f-shoes-right-dark-x, var(--offset-x-use));
    --offset-y-use: var(--f-shoes-right-dark-y, var(--offset-y-use));
}

/* Eyes */
body[data-gender="female"][data-skin="light"] .layer-eyes-left {
    --scale-use: var(--f-eyes-left-light-scale, var(--scale-use));
    --offset-x-use: var(--f-eyes-left-light-x, var(--offset-x-use));
    --offset-y-use: var(--f-eyes-left-light-y, var(--offset-y-use));
}
body[data-gender="female"][data-skin="light"] .layer-eyes-right {
    --scale-use: var(--f-eyes-right-light-scale, var(--scale-use));
    --offset-x-use: var(--f-eyes-right-light-x, var(--offset-x-use));
    --offset-y-use: var(--f-eyes-right-light-y, var(--offset-y-use));
}
body[data-gender="female"][data-skin="dark"] .layer-eyes-left {
    --scale-use: var(--f-eyes-left-dark-scale, var(--scale-use));
    --offset-x-use: var(--f-eyes-left-dark-x, var(--offset-x-use));
    --offset-y-use: var(--f-eyes-left-dark-y, var(--offset-y-use));
}
body[data-gender="female"][data-skin="dark"] .layer-eyes-right {
    --scale-use: var(--f-eyes-right-dark-scale, var(--scale-use));
    --offset-x-use: var(--f-eyes-right-dark-x, var(--offset-x-use));
    --offset-y-use: var(--f-eyes-right-dark-y, var(--offset-y-use));
}

/* ============================= */
/* BASE AVATAR + PREVIEW STYLES  */
/* ============================= */
header {
    position: relative;
    z-index: 5;
    background: rgba(10,0,25,.96);
    border-bottom: 1px solid rgba(124,58,237,.5);
    box-shadow: 0 18px 40px rgba(0,0,0,.7);
}

.shell {
    border-radius: 20px;
    border: 1px solid rgba(129,140,248,.6);
    background:
        radial-gradient(circle at 0 0, rgba(76,29,149,.40), transparent 60%),
        radial-gradient(circle at 100% 0, rgba(14,165,233,.22), transparent 60%),
        rgba(10,6,30,.96);
    box-shadow: 0 18px 50px rgba(0,0,0,.8);
}

#closetPreviewFrame {
    width: 100%;
    max-width: 1100px;
    margin: 0 auto;
    border-radius: 18px;
    border: 1px solid rgba(148,163,255,0.55);
    overflow: hidden;
    height: 800px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: url("assets/images/closet/dressingroom.png?v=15");
    background-size: cover;
    background-position: center;
    position: relative;
}

#closetPreviewInner {
    position: relative;
    width: 100%;
    max-width: 480px;
    height: 100%;
    transform: translateY(30px);
}

#closetBaseImg {
    position: absolute;
    inset: 0;
    height: 100%;
    width: auto;
    object-fit: cover;
    display: block;
    z-index: 1;
    left: 50%;
    transform: translateX(-50%);
    filter: drop-shadow(0 0 3px #000);
}

#closetOverlayHost img {
    filter: drop-shadow(0 0 2px #000);
}

#closetOverlayHost {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 2;
}
</style>
</head>
<body data-no-global-carrie="true" data-gender="female" data-skin="light">

<header>Stream 8bfr on all outlets</header>

<main class="max-w-6xl mx-auto px-4 pb-10 pt-5">
  <div class="shell p-4 sm:p-5 lg:p-6">
    <div class="flex flex-col lg:flex-row gap-6 lg:gap-8">
      <!-- LEFT: Preview + base controls -->
      <section class="lg:w-[60%] space-y-4">
        <div class="flex items-center justify-between gap-2">
          <div class="flex flex-wrap items-center gap-2">
            <span class="pill-tag text-[10px]">ðŸ§¬ Avatar Preview</span>
            <span id="closetPreviewLabel" class="text-[11px] text-purple-200/80">
              Female â€¢ Light skin â€¢ Bikini base
            </span>
          </div>
          <span class="text-[10px] text-purple-200/80">BF / GF chat only</span>
        </div>

        <div id="closetPreviewFrame">
          <div id="closetPreviewInner">
            <img id="closetBaseImg"
                 src="assets/images/base/female/base_female_light.png?v=15"
                 alt="Avatar base">
            <div id="closetOverlayHost">
              <!-- Example earrings -->
              <img class="layer-overlay item-f_jewel_ears layer-left" src="assets/images/items/earring_left.png" alt="Left Earring">
              <img class="layer-overlay item-f_jewel_ears layer-right" src="assets/images/items/earring_right.png" alt="Right Earring">
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</main>

</body>
</html>
