<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Carrie Closet</title>
<style>
/* ===================== WORKING STYLE ===================== */
body {
  margin:0;
  font-family:system-ui;
  overflow-x:hidden;
  background:#000;
  color:#eae6ff;
}
#closetPreviewFrame {
  width:100%;
  max-width:480px;
  height:800px;
  margin:0 auto;
  position:relative;
  background:#111;
  border:1px solid #555;
  border-radius:20px;
  overflow:hidden;
}
#closetBaseImg {
  position:absolute;
  top:0;
  left:50%;
  transform:translateX(-50%);
  height:100%;
}
#closetOverlayHost {
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:2;
}
.layer-overlay {
  position:absolute;
  inset:0;
  transform:scale(1) translate(0,0);
  pointer-events:none;
}
.closet-item-card {
  display:flex;
  align-items:center;
  gap:0.5rem;
  padding:0.5rem;
  border:1px solid #666;
  border-radius:12px;
  cursor:pointer;
  transition:0.1s;
}
.closet-item-card:hover {
  border-color:#a855f7;
  box-shadow:0 0 10px #a855f7;
}
.closet-item-card.active {
  border-color:#22c55e;
  box-shadow:0 0 10px #22c55e;
}
.closet-item-thumb {
  width:44px;
  height:44px;
  border-radius:10px;
  background:#020617;
  overflow:hidden;
  flex-shrink:0;
}
.closet-item-thumb img {
  width:100%;
  height:100%;
  object-fit:contain;
}
#closetItemsGrid {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
  gap:0.5rem;
  padding:0.5rem;
  max-width:480px;
  margin:1rem auto;
}
/* ======================================================= */
</style>
</head>
<body data-gender="female" data-skin="light">
<h1 style="text-align:center;">Carrie Closet</h1>
<div id="closetPreviewFrame">
  <img id="closetBaseImg" src="assets/images/base/female/base_female_light.png" alt="Base avatar">
  <div id="closetOverlayHost"></div>
</div>

<div id="closetItemsGrid"></div>
<script>
const closetItems = [
  // =================== HAIR ===================
  { id:'hair1', category:'hair', gender:'female', skin:'light', img:'assets/images/hair/female/hair1_light.png', x:0, y:0, width:100, height:100 },
  { id:'hair2', category:'hair', gender:'female', skin:'dark', img:'assets/images/hair/female/hair2_dark.png', x:0, y:0, width:100, height:100 },
  { id:'hair3', category:'hair', gender:'male', skin:'light', img:'assets/images/hair/male/hair3_light.png', x:0, y:0, width:100, height:100 },
  { id:'hair4', category:'hair', gender:'male', skin:'dark', img:'assets/images/hair/male/hair4_dark.png', x:0, y:0, width:100, height:100 },

  // =================== EYES ===================
  { id:'eyeLeft1', category:'eyes', side:'left', gender:'female', skin:'light', img:'assets/images/eyes/female/eyeLeft1_light.png', x:50, y:80, width:20, height:20 },
  { id:'eyeRight1', category:'eyes', side:'right', gender:'female', skin:'light', img:'assets/images/eyes/female/eyeRight1_light.png', x:100, y:80, width:20, height:20 },
  { id:'eyeLeft2', category:'eyes', side:'left', gender:'female', skin:'dark', img:'assets/images/eyes/female/eyeLeft2_dark.png', x:50, y:80, width:20, height:20 },
  { id:'eyeRight2', category:'eyes', side:'right', gender:'female', skin:'dark', img:'assets/images/eyes/female/eyeRight2_dark.png', x:100, y:80, width:20, height:20 },

  { id:'eyeLeft3', category:'eyes', side:'left', gender:'male', skin:'light', img:'assets/images/eyes/male/eyeLeft3_light.png', x:50, y:80, width:20, height:20 },
  { id:'eyeRight3', category:'eyes', side:'right', gender:'male', skin:'light', img:'assets/images/eyes/male/eyeRight3_light.png', x:100, y:80, width:20, height:20 },
  { id:'eyeLeft4', category:'eyes', side:'left', gender:'male', skin:'dark', img:'assets/images/eyes/male/eyeLeft4_dark.png', x:50, y:80, width:20, height:20 },
  { id:'eyeRight4', category:'eyes', side:'right', gender:'male', skin:'dark', img:'assets/images/eyes/male/eyeRight4_dark.png', x:100, y:80, width:20, height:20 },

  // =================== SHOES ===================
  { id:'shoe1', category:'shoes', gender:'female', skin:'light', img:'assets/images/shoes/female/shoe1_light.png', x:60, y:400, width:80, height:40 },
  { id:'shoe2', category:'shoes', gender:'female', skin:'dark', img:'assets/images/shoes/female/shoe2_dark.png', x:60, y:400, width:80, height:40 },
  { id:'shoe3', category:'shoes', gender:'male', skin:'light', img:'assets/images/shoes/male/shoe3_light.png', x:60, y:400, width:80, height:40 },
  { id:'shoe4', category:'shoes', gender:'male', skin:'dark', img:'assets/images/shoes/male/shoe4_dark.png', x:60, y:400, width:80, height:40 },

  // =================== EARRINGS ===================
  { id:'earLeft1', category:'earrings', side:'left', gender:'female', skin:'light', img:'assets/images/earrings/female/earLeft1_light.png', x:40, y:100, width:12, height:20 },
  { id:'earRight1', category:'earrings', side:'right', gender:'female', skin:'light', img:'assets/images/earrings/female/earRight1_light.png', x:110, y:100, width:12, height:20 },
  { id:'earLeft2', category:'earrings', side:'left', gender:'female', skin:'dark', img:'assets/images/earrings/female/earLeft2_dark.png', x:40, y:100, width:12, height:20 },
  { id:'earRight2', category:'earrings', side:'right', gender:'female', skin:'dark', img:'assets/images/earrings/female/earRight2_dark.png', x:110, y:100, width:12, height:20 },

  { id:'earLeft3', category:'earrings', side:'left', gender:'male', skin:'light', img:'assets/images/earrings/male/earLeft3_light.png', x:40, y:100, width:12, height:20 },
  { id:'earRight3', category:'earrings', side:'right', gender:'male', skin:'light', img:'assets/images/earrings/male/earRight3_light.png', x:110, y:100, width:12, height:20 },
  { id:'earLeft4', category:'earrings', side:'left', gender:'male', skin:'dark', img:'assets/images/earrings/male/earLeft4_dark.png', x:40, y:100, width:12, height:20 },
  { id:'earRight4', category:'earrings', side:'right', gender:'male', skin:'dark', img:'assets/images/earrings/male/earRight4_dark.png', x:110, y:100, width:12, height:20 },

  // =================== OUTFITS (example) ===================
  { id:'dress1', category:'outfit', gender:'female', skin:'light', img:'assets/images/outfits/female/dress1_light.png', x:20, y:140, width:140, height:220 },
  { id:'dress2', category:'outfit', gender:'female', skin:'dark', img:'assets/images/outfits/female/dress2_dark.png', x:20, y:140, width:140, height:220 },
  { id:'suit1', category:'outfit', gender:'male', skin:'light', img:'assets/images/outfits/male/suit1_light.png', x:20, y:140, width:140, height:220 },
  { id:'suit2', category:'outfit', gender:'male', skin:'dark', img:'assets/images/outfits/male/suit2_dark.png', x:20, y:140, width:140, height:220 }
];

// =================== RENDER FUNCTION ===================
const closetGrid = document.getElementById('closetItemsGrid');
closetItems.forEach(item => {
  const card = document.createElement('div');
  card.className = 'closet-item-card';
  card.dataset.id = item.id;
  card.dataset.category = item.category;
  const thumb = document.createElement('div');
  thumb.className = 'closet-item-thumb';
  const img = document.createElement('img');
  img.src = item.img;
  thumb.appendChild(img);
  card.appendChild(thumb);
  card.appendChild(document.createTextNode(item.id));
  closetGrid.appendChild(card);

  // click event
  card.addEventListener('click', () => {
    const overlayHost = document.getElementById('closetOverlayHost');
    // remove previous same category
    const existing = overlayHost.querySelectorAll(`img[data-category='${item.category}']`);
    existing.forEach(e => e.remove());
    // add new
    const overlayImg = document.createElement('img');
    overlayImg.src = item.img;
    overlayImg.style.position = 'absolute';
    overlayImg.style.left = item.x + 'px';
    overlayImg.style.top = item.y + 'px';
    overlayImg.style.width = item.width + 'px';
    overlayImg.style.height = item.height + 'px';
    overlayImg.dataset.category = item.category;
    overlayHost.appendChild(overlayImg);
  });
});
   </script>
   </body>
</html>
