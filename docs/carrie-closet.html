<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Carrie Closet â€” 8BFR Music Network</title>
  <meta name="description" content="Customize Carrieâ€™s outfits, makeup, and styles â€” 8BFR Music Network.">
  <link rel="icon" href="assets/images/favicon.png" />
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      background:
        radial-gradient(900px 600px at 10% -10%, rgba(124,58,237,.35), transparent 60%),
        radial-gradient(800px 400px at 110% 10%, rgba(0,217,255,.22), transparent 60%),
        linear-gradient(#0b0014,#000);
      color:#eae6ff;
      font-family: system-ui, sans-serif;
      min-height:100vh;
    }
    .item-card:hover {
      box-shadow: 0 0 14px rgba(124,58,237,.4);
      transform: translateY(-2px);
      transition: all .2s ease;
    }
    .filter-btn.active {
      background:rgba(124,58,237,.6);
      border-color:rgba(168,85,247,.8);
      color:#fff;
    }
  </style>
</head>
<body class="p-4 sm:p-8">
  <header class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-2">
    <div class="flex items-center gap-3">
      <img src="assets/images/logo_8bfr.svg" class="h-9" onerror="this.src='assets/images/8bfr.png'">
      <div>
        <h1 class="text-2xl font-bold text-purple-400">ðŸ‘— Carrie Closet</h1>
        <p class="text-xs text-purple-300/80">Customize â€¢ Collect â€¢ Upgrade</p>
      </div>
    </div>
    <div class="flex items-center gap-3 text-sm">
      <div id="coinDisplay" class="bg-slate-900/80 border border-emerald-400/60 px-3 py-1.5 rounded-full text-emerald-300 shadow-md">
        ðŸ’° Coins: <span id="coinCount">500</span>
      </div>
      <a href="coinshop.html" class="text-emerald-300 underline text-xs hover:opacity-80">Buy Coins</a>
      <a href="carrie-chat.html" class="text-[#00d9ff] underline text-xs hover:opacity-80">â¬… Back to Chat</a>
    </div>
  </header>

  <main class="max-w-6xl mx-auto">
    <!-- Filters -->
    <div class="flex flex-wrap gap-2 mb-5">
      <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="all">All</button>
      <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="conservative">Conservative</button>
      <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="casual">Casual</button>
      <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="glam">Glam</button>
      <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="sexy">Sexy</button>
      <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="swim">Swim</button>
      <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="theme">Theme</button>
    </div>

    <!-- Outfit grid -->
    <div id="closetGrid" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
  </main>

  <!-- Load outfit data -->
  <script src="carrie-closet-data.js"></script>
  <script>
    const grid = document.getElementById("closetGrid");
    const buttons = document.querySelectorAll(".filter-btn");
    const coinCountEl = document.getElementById("coinCount");

    let filter = "all";
    let coins = parseInt(localStorage.getItem("coins") || "500");

    function updateCoinsDisplay() {
      coinCountEl.textContent = coins;
      localStorage.setItem("coins", coins);
    }

    function renderGrid() {
      grid.innerHTML = "";
      const visible = CARRIE_CLOSET_OUTFITS.filter(o =>
        filter === "all" ? true : o.style === filter
      );
      visible.forEach(item => {
        const card = document.createElement("div");
        card.className = "item-card border border-purple-500/40 rounded-xl bg-slate-900/80 p-4 text-sm";
        card.innerHTML = `
          <div class="flex justify-between items-start mb-1">
            <div>
              <div class="font-semibold text-purple-100">${item.name}</div>
              <div class="text-[11px] text-purple-300/70">${item.style.toUpperCase()} â€¢ ${item.subType}</div>
            </div>
            <div class="text-right">
              <div class="text-emerald-300 font-bold text-xs">${item.coins} ðŸª™</div>
              ${item.proOnly ? '<div class="text-[10px] text-pink-300">Pro</div>' : ""}
            </div>
          </div>
          <p class="text-[11px] text-purple-200/80 mb-2">${item.description}</p>
          <button class="w-full text-xs bg-purple-700/60 border border-purple-400/50 hover:bg-purple-700 text-white py-1.5 rounded-lg buy-btn">Buy</button>
        `;
        const btn = card.querySelector(".buy-btn");
        btn.addEventListener("click", () => buyItem(item));
        grid.appendChild(card);
      });
    }

    function buyItem(item) {
      if (item.coins > coins) {
        alert("Not enough coins! Visit the Coin Shop.");
        return;
      }
      if (item.proOnly) {
        alert("This is a Pro-only outfit. Available to verified members soon.");
        return;
      }
      coins -= item.coins;
      updateCoinsDisplay();
      alert(`You purchased: ${item.name}`);
    }

    buttons.forEach(btn => {
      btn.addEventListener("click", () => {
        buttons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        filter = btn.getAttribute("data-filter");
        renderGrid();
      });
    });

    updateCoinsDisplay();
    document.querySelector('[data-filter="all"]').classList.add("active");
    renderGrid();
  </script>
</body>
</html>
