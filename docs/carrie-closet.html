<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Carrie Closet â€” 8BFR Music Network</title>
  <meta name="description" content="Customize your Carrie, James, or partner avatar with outfits, hair, accessories and more using 8BFR coins." />
  <link rel="icon" href="assets/images/favicon.png?v=15" />
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      --ring: rgba(124,58,237,.55);
      --glass: rgba(12,6,24,.80);
    }

    html,body{scroll-behavior:smooth}

    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(124,58,237,.30), transparent 60%),
        radial-gradient(900px 400px at 110% 10%, rgba(0,217,255,.22), transparent 60%),
        linear-gradient(#050011,#000);
      color:#eae6ff;
      margin:0;
      min-height:100vh;
      overflow-x:hidden;
    }

    header{
      position:relative;
      z-index:5;
      background:rgba(10,0,25,.96);
      border-bottom:1px solid rgba(124,58,237,.5);
      box-shadow:0 18px 40px rgba(0,0,0,.7);
    }

    .shell{
      border-radius:20px;
      border:1px solid rgba(129,140,248,.6);
      background:
        radial-gradient(circle at 0 0,rgba(76,29,149,.40),transparent 60%),
        radial-gradient(circle at 100% 0,rgba(14,165,233,.22),transparent 60%),
        rgba(10,6,30,.96);
      box-shadow:0 18px 50px rgba(0,0,0,.8);
    }

    /* ================= UI CONTROLS (RESTORED) ================= */

    .seg-btn,
    .tab-btn{
      padding:6px 10px;
      font-size:11px;
      border-radius:999px;
      border:1px solid rgba(124,58,237,.6);
      background:rgba(20,10,50,.85);
      color:#eae6ff;
      cursor:pointer;
      line-height:1;
    }

    .seg-btn.active,
    .tab-btn.active{
      background:#7c3aed;
      color:#fff;
    }

    .pill-tag{
      padding:4px 8px;
      border-radius:999px;
      background:rgba(124,58,237,.25);
      border:1px solid rgba(124,58,237,.5);
    }

    .pill-tag-soft{
      background:rgba(20,10,50,.5);
      border-color:rgba(124,58,237,.3);
    }

    /* ================= AVATAR ================= */

    #closetPreviewFrame{
      width:100%;
      max-width:1100px;
      margin:0 auto;
      border-radius:18px;
      border:1px solid rgba(148,163,255,.55);
      overflow:hidden;
      height:800px;
      display:flex;
      align-items:center;
      justify-content:center;
      background:url("assets/images/closet/dressingroom.png?v=15") center/cover no-repeat;
      position:relative;
    }

    #closetPreviewInner{
      position:relative;
      width:100%;
      max-width:480px;
      height:100%;
      transform:translateY(30px);
    }

    #closetBaseImg{
      position:absolute;
      inset:0;
      height:100%;
      width:auto;
      left:50%;
      transform:translateX(-50%);
      object-fit:cover;
      z-index:1;
      filter:drop-shadow(0 0 3px #000);
    }

    body[data-gender="female"][data-skin="light"]{--base-width:.89;--base-height:.99}
    body[data-gender="female"][data-skin="dark"]{--base-width:.63;--base-height:.96}
    body[data-gender="male"][data-skin="light"]{--base-width:1;--base-height:1}
    body[data-gender="male"][data-skin="dark"]{--base-width:.96;--base-height:1}

    body[data-skin] #closetBaseImg{
      transform:translateX(-50%) scaleX(var(--base-width)) scaleY(var(--base-height));
    }

    #closetOverlayHost{
      position:absolute;
      inset:0;
      pointer-events:none;
      z-index:2;
    }

    .layer-overlay{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:contain;
      pointer-events:none;

      --scale:1;
      --offset-x:0%;
      --offset-y:0%;

      --scale-light:var(--scale);
      --offset-x-light:var(--offset-x);
      --offset-y-light:var(--offset-y);

      --scale-dark:var(--scale);
      --offset-x-dark:var(--offset-x);
      --offset-y-dark:var(--offset-y);

      --scale-use:var(--scale);
      --offset-x-use:var(--offset-x);
      --offset-y-use:var(--offset-y);
    }

    body[data-skin="light"] .layer-overlay{
      --scale-use:var(--scale-light);
      --offset-x-use:var(--offset-x-light);
      --offset-y-use:var(--offset-y-light);
    }

    body[data-skin="dark"] .layer-overlay{
      --scale-use:var(--scale-dark);
      --offset-x-use:var(--offset-x-dark);
      --offset-y-use:var(--offset-y-dark);
    }

    /* ============== FEMALE EARRINGS (SAFE) ============== */

    .layer-earrings-left,
    .layer-earrings-right{
      transform-origin:center top;
    }

    body[data-gender="female"] .layer-earrings-left{
      --scale-light:.8;
      --offset-x-light:-12%;
      --offset-y-light:-15%;
    }

    body[data-gender="female"] .layer-earrings-right{
      --scale-light:.8;
      --offset-x-light:12%;
      --offset-y-light:-15%;
    }

    /* FINAL TRANSFORM */
    .layer-overlay{
      transform:
        scale(var(--scale-use))
        translateX(var(--offset-x-use))
        translateY(var(--offset-y-use))
        !important;
    }
  </style>
</head>

<body data-no-global-carrie="true" data-gender="female" data-skin="light">

  <header class="px-4 py-4">
    <div class="max-w-6xl mx-auto flex items-center justify-between gap-3">
      <div class="flex items-center gap-3">
        <img src="assets/images/logo_8bfr.svg?v=15" class="h-9 w-auto">
        <div>
          <h1 class="text-xl sm:text-2xl font-extrabold">
            <span class="text-[#a855f7]">Carrie Closet</span>
            <span class="text-xs sm:text-sm font-semibold ml-1 text-emerald-300/80">beta</span>
          </h1>
          <p class="text-[11px] text-purple-300/80 -mt-0.5">
            Dress your AI avatar for BF / GF chat
          </p>
        </div>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 pb-10 pt-5">
    <div class="shell p-4 sm:p-5 lg:p-6">
      <div class="flex flex-col lg:flex-row gap-6 lg:gap-8">

        <section class="lg:w-[60%] space-y-4">
          <div id="closetPreviewFrame">
            <div id="closetPreviewInner">
              <img id="closetBaseImg"
                   src="assets/images/base/female/base_female_light.png?v=15">
              <div id="closetOverlayHost"></div>
            </div>
          </div>
        </section>

        <section class="lg:flex-1 space-y-3">
          <div class="flex flex-wrap gap-2 mt-1">
            <button class="tab-btn active" data-cat="hair">Hair</button>
            <button class="tab-btn" data-cat="top">Tops</button>
            <button class="tab-btn" data-cat="bottom">Bottoms</button>
            <button class="tab-btn" data-cat="jewelry">Jewelry</button>
            <button class="tab-btn" data-cat="eyes">Eyes</button>
            <button class="tab-btn" data-cat="shoes">Shoes</button>
            <button class="tab-btn" data-cat="all">All</button>
          </div>

          <div id="closetItemsGrid" class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-2.5"></div>
        </section>

      </div>
    </div>
  </main>

  <script src="carrie-closet-data.js?v=127"></script>
  <script src="carrie-closet.js?v=127"></script>
</body>
</html>
