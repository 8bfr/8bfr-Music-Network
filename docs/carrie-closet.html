<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Carrie Closet ‚Äî 8BFR Music Network</title>
  <meta name="description" content="Dress up Carrie and friends with outfits, hair, eyes, and accessories ‚Äî powered by coins." />
  <link rel="icon" href="assets/images/favicon.png" />
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      --ring: rgba(124,58,237,.55);
      --glass: rgba(12,6,24,.80);
    }
    html,body{ scroll-behavior:smooth; }
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(124,58,237,.35), transparent 60%),
        radial-gradient(900px 400px at 110% 10%, rgba(0,217,255,.22), transparent 60%),
        linear-gradient(#0b0014,#000);
      color:#eae6ff;
      margin:0;
      min-height:100vh;
      overflow-x:hidden;
    }
    header{
      position:relative;
      z-index:5;
      background:rgba(15,0,30,.9);
      border-bottom:1px solid rgba(124,58,237,.5);
    }
    .closet-shell{
      border-radius:18px;
      border:1px solid rgba(124,58,237,.55);
      background:rgba(10,2,26,.96);
      box-shadow:0 16px 40px rgba(0,0,0,.75);
      overflow:hidden;
    }
    .avatar-stage{
      position:relative;
      width:100%;
      max-width:360px;
      aspect-ratio:3/5;
      margin-inline:auto;
      border-radius:18px;
      background:
        radial-gradient(circle at 50% 10%, rgba(252,211,77,.18), transparent 55%),
        radial-gradient(circle at 50% 100%, rgba(56,189,248,.22), transparent 60%),
        linear-gradient(180deg,#020617,#020014);
      border:1px solid rgba(148,163,255,.55);
      box-shadow:
        0 18px 40px rgba(15,23,42,.95),
        0 0 28px rgba(129,140,248,.55);
      overflow:hidden;
    }
    .avatar-layer{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:contain;
      display:none;
      pointer-events:none;
    }

    /* Base = full canvas */
    #previewBaseFemale,
    #previewBaseMale{
      width:100%;
      height:100%;
      left:0;
      top:0;
    }

    /* Hair: up near the top of the head */
    #previewHair{
      width:72%;
      height:60%;
      left:14%;
      top:-2%;
      object-fit:contain;
    }

    /* Outfits / clothes: middle of body */
    #previewOutfit{
      width:66%;
      height:65%;
      left:17%;
      top:30%;
      object-fit:contain;
    }

    /* Eyes: small and near face area */
    #previewEyes{
      width:24%;
      height:18%;
      left:38%;
      top:21%;
      object-fit:contain;
    }

    /* Jewelry: around neck / torso */
    #previewJewelry{
      width:40%;
      height:35%;
      left:30%;
      top:35%;
      object-fit:contain;
    }

    /* Shoes: bottom area */
    #previewShoes{
      width:50%;
      height:32%;
      left:25%;
      top:72%;
      object-fit:contain;
    }

    .shop-scroll{
      max-height:520px;
      overflow-y:auto;
      padding-right:.3rem;
    }
    .shop-scroll::-webkit-scrollbar{
      width:6px;
    }
    .shop-scroll::-webkit-scrollbar-thumb{
      background:rgba(129,140,248,.75);
      border-radius:999px;
    }

    /* Hide global Carrie & global menu if scripts.js injects them */
    #bubbleStack,
    #bubble-top-single,
    #carrieWrap,
    #globalAvatarSwitch,
    #floatingMenuRoot{
      display:none !important;
    }
  </style>
</head>
<body data-no-global-carrie="true">
  <header class="px-4 py-4">
    <div class="max-w-6xl mx-auto flex items-center justify-between gap-3">
      <div class="flex items-center gap-3">
        <img src="assets/images/logo_8bfr.svg"
             alt="8BFR logo"
             class="h-9 w-auto"
             onerror="this.onerror=null;this.src='assets/images/8bfr.png'">
        <div>
          <h1 class="text-xl sm:text-2xl font-extrabold">
            <span class="text-[#a855f7]">Carrie Closet</span>
            <span class="hidden sm:inline"> ‚Äî Dress-Up Lab</span>
          </h1>
          <p class="text-[11px] text-purple-300/80 -mt-0.5">
            8BFR Music Network ‚Ä¢ Create ‚Ä¢ Connect ‚Ä¢ Collab
          </p>
        </div>
      </div>
      <a href="carrie-chat.html"
         class="hidden sm:inline text-[#00d9ff] text-xs sm:text-sm underline/50 hover:underline">
        ‚¨Ö Back to Carrie Chat
      </a>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 pb-10 pt-4">
    <div class="closet-shell p-4 sm:p-5">
      <!-- Top row: title + coins + gender -->
      <div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-3">
        <div>
          <h2 class="text-sm sm:text-base font-semibold text-purple-50 flex items-center gap-2">
            üõçÔ∏è Carrie Closet
            <span class="text-[10px] px-2 py-0.5 rounded-full border border-emerald-400/60 text-emerald-200/90 bg-emerald-900/40 uppercase tracking-wide">
              Beta
            </span>
          </h2>
          <p class="text-[11px] text-purple-200/80">
            Mix skin, outfits, hair, eyes, and jewelry. Coins will power upgrades soon.
          </p>
          <p id="closetStatus" class="text-[11px] text-purple-300/80 mt-0.5">
            Loading Carrie Closet‚Ä¶
          </p>
        </div>

        <div class="flex flex-wrap gap-2 items-center justify-start sm:justify-end">
          <!-- Coins display -->
          <div class="px-2.5 py-1 rounded-full border border-amber-300/60 bg-amber-900/30 flex items-center gap-1.5 text-[11px]">
            <span>ü™ô</span>
            <span id="closetCoins">100 coins</span>
          </div>

          <!-- Gender toggle (for now: just switches base assets) -->
          <div class="flex text-[11px] rounded-full border border-purple-500/60 overflow-hidden">
            <button
              id="genderFemaleBtn"
              type="button"
              class="px-3 py-1 bg-purple-600 text-purple-50"
            >
              Female
            </button>
            <button
              id="genderMaleBtn"
              type="button"
              class="px-3 py-1 bg-slate-800 text-slate-100/80"
            >
              Male
            </button>
          </div>
        </div>
      </div>

      <!-- Main layout: preview (left) + items (right) -->
      <div class="grid gap-4 lg:grid-cols-[minmax(0,2fr)_minmax(0,3fr)]">
        <!-- Preview panel -->
        <section class="space-y-2">
          <div class="avatar-stage mb-2">
            <!-- BASES -->
            <img id="previewBaseFemale"
                 class="avatar-layer"
                 src="assets/images/base/female/female_light_skin.png"
                 alt="Base female" />
            <img id="previewBaseMale"
                 class="avatar-layer"
                 src=""
                 alt="Base male" />

            <!-- LAYERS -->
            <img id="previewOutfit"
                 class="avatar-layer"
                 src="assets/images/female_cloths/female_bikini.png"
                 alt="Outfit" />
            <img id="previewHair"
                 class="avatar-layer"
                 src=""
                 alt="Hair" />
            <img id="previewEyes"
                 class="avatar-layer"
                 src=""
                 alt="Eyes" />
            <img id="previewJewelry"
                 class="avatar-layer"
                 src=""
                 alt="Jewelry" />
            <img id="previewShoes"
                 class="avatar-layer"
                 src=""
                 alt="Shoes" />
          </div>

          <p class="text-[11px] text-purple-200/80">
            Tip: All images are built at the same canvas size, so layers should line up.
            If any item looks off-center, we can nudge its PNG later.
          </p>

          <a href="coinshop.html"
             class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full border border-amber-400/60 bg-amber-900/40 text-[11px] text-amber-100 hover:bg-amber-800/70">
            ü™ô Buy more coins (coming soon)
          </a>
        </section>

        <!-- Items list -->
        <section class="shop-scroll text-[11px]" id="closetList">
          <!-- JS will inject sections + items here -->
          <p class="text-purple-200/80">
            Loading items‚Ä¶
          </p>
        </section>
      </div>
    </div>

    <p class="mt-3 text-[11px] text-purple-300/70 text-center max-w-2xl mx-auto">
      Closet is in beta. For now it‚Äôs visual only ‚Äî later we‚Äôll lock sexy outfits behind higher coin costs,
      connect this to your account, and sync with BF / GF chat modes.
    </p>

    <p class="mt-1 text-[10px] text-purple-400/70 text-center">
      Files used: <code>assets/images/base/... </code>,
      <code>female_cloths</code>, <code>hair</code>, <code>female_jewlery</code>,
      <code>male_jewlery</code>, <code>unisex/*</code>.
    </p>
  </main>

  <!-- Global scripts (menu/Carrie/etc.) -->
  <script src="scripts.js?v=1" defer></script>

  <!-- Closet data then logic (order matters!) -->
  <script src="carrie-closet--data.js?v=3"></script>
  <script src="carrie-closet.js?v=3"></script>
</body>
</html>
