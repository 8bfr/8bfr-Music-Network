<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Carrie Closet — 8BFR Music Network</title>
  <meta name="description" content="Customize your Carrie, James, or partner avatar with outfits, hair, accessories and more using 8BFR coins." />
  <link rel="icon" href="assets/images/favicon.png?v=15" />
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root {
      --ring: rgba(124,58,237,.55);
      --glass: rgba(12,6,24,.80);
    }

    html, body { scroll-behavior:smooth; }

    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(124,58,237,.30), transparent 60%),
        radial-gradient(900px 400px at 110% 10%, rgba(0,217,255,.22), transparent 60%),
        linear-gradient(#050011,#000);
      color:#eae6ff;
      margin:0;
      min-height:100vh;
      overflow-x:hidden;
    }

    /* ============================================================
       BASE AVATAR
       ============================================================ */

    #closetPreviewFrame {
      width:100%;
      max-width:1100px;
      margin:0 auto;
      height:800px;
      border-radius:18px;
      border:1px solid rgba(148,163,255,0.55);
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      background:url("assets/images/closet/dressingroom.png?v=15") center/cover no-repeat;
      position:relative;
    }

    #closetPreviewInner {
      position:relative;
      width:100%;
      max-width:480px;
      height:100%;
      transform:translateY(30px);
    }

    #closetBaseImg {
      position:absolute;
      inset:0;
      height:100%;
      width:auto;
      left:50%;
      transform:translateX(-50%);
      object-fit:cover;
      z-index:1;
      filter:drop-shadow(0 0 3px #000);
    }

    body[data-gender="female"][data-skin="light"]{ --base-width:.89; --base-height:.99; }
    body[data-gender="female"][data-skin="dark"]{ --base-width:.63; --base-height:.96; }
    body[data-gender="male"][data-skin="light"]{ --base-width:1; --base-height:1; }
    body[data-gender="male"][data-skin="dark"]{ --base-width:.96; --base-height:1; }

    body[data-skin] #closetBaseImg{
      transform:translateX(-50%) scaleX(var(--base-width)) scaleY(var(--base-height));
    }

    /* ============================================================
       OVERLAYS – GLOBAL
       ============================================================ */

    #closetOverlayHost{
      position:absolute;
      inset:0;
      pointer-events:none;
      z-index:2;
    }

    .layer-overlay{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:contain;

      --scale:1;
      --offset-x:0%;
      --offset-y:0%;

      --scale-light:var(--scale);
      --offset-x-light:var(--offset-x);
      --offset-y-light:var(--offset-y);

      --scale-dark:var(--scale);
      --offset-x-dark:var(--offset-x);
      --offset-y-dark:var(--offset-y);

      transform:
        scale(var(--scale-use))
        translateX(var(--offset-x-use))
        translateY(var(--offset-y-use));
    }

    body[data-skin="light"] .layer-overlay{
      --scale-use:var(--scale-light);
      --offset-x-use:var(--offset-x-light);
      --offset-y-use:var(--offset-y-light);
    }

    body[data-skin="dark"] .layer-overlay{
      --scale-use:var(--scale-dark);
      --offset-x-use:var(--offset-x-dark);
      --offset-y-use:var(--offset-y-dark);
    }

    /* ============================================================
   FEMALE — PER SIDE / PER SKIN ADJUSTMENTS
   (SAFE: overrides ONLY when variables are set)
   ============================================================ */

/* ---------- EARRINGS ---------- */

/* Female Light */
body[data-gender="female"][data-skin="light"] .layer-ears-left{
  --scale-use: var(--f-ears-left-light-scale, var(--scale-use));
  --offset-x-use: var(--f-ears-left-light-x, var(--offset-x-use));
  --offset-y-use: var(--f-ears-left-light-y, var(--offset-y-use));
}

body[data-gender="female"][data-skin="light"] .layer-ears-right{
  --scale-use: var(--f-ears-right-light-scale, var(--scale-use));
  --offset-x-use: var(--f-ears-right-light-x, var(--offset-x-use));
  --offset-y-use: var(--f-ears-right-light-y, var(--offset-y-use));
}

/* Female Dark */
body[data-gender="female"][data-skin="dark"] .layer-ears-left{
  --scale-use: var(--f-ears-left-dark-scale, var(--scale-use));
  --offset-x-use: var(--f-ears-left-dark-x, var(--offset-x-use));
  --offset-y-use: var(--f-ears-left-dark-y, var(--offset-y-use));
}

body[data-gender="female"][data-skin="dark"] .layer-ears-right{
  --scale-use: var(--f-ears-right-dark-scale, var(--scale-use));
  --offset-x-use: var(--f-ears-right-dark-x, var(--offset-x-use));
  --offset-y-use: var(--f-ears-right-dark-y, var(--offset-y-use));
}

/* ---------- SHOES ---------- */

body[data-gender="female"][data-skin="light"] .layer-shoes-left{
  --scale-use: var(--f-shoes-left-light-scale, var(--scale-use));
  --offset-x-use: var(--f-shoes-left-light-x, var(--offset-x-use));
  --offset-y-use: var(--f-shoes-left-light-y, var(--offset-y-use));
}

body[data-gender="female"][data-skin="light"] .layer-shoes-right{
  --scale-use: var(--f-shoes-right-light-scale, var(--scale-use));
  --offset-x-use: var(--f-shoes-right-light-x, var(--offset-x-use));
  --offset-y-use: var(--f-shoes-right-light-y, var(--offset-y-use));
}

body[data-gender="female"][data-skin="dark"] .layer-shoes-left{
  --scale-use: var(--f-shoes-left-dark-scale, var(--scale-use));
  --offset-x-use: var(--f-shoes-left-dark-x, var(--offset-x-use));
  --offset-y-use: var(--f-shoes-left-dark-y, var(--offset-y-use));
}

body[data-gender="female"][data-skin="dark"] .layer-shoes-right{
  --scale-use: var(--f-shoes-right-dark-scale, var(--scale-use));
  --offset-x-use: var(--f-shoes-right-dark-x, var(--offset-x-use));
  --offset-y-use: var(--f-shoes-right-dark-y, var(--offset-y-use));
}

/* ---------- EYES ---------- */

body[data-gender="female"][data-skin="light"] .layer-eyes-left{
  --scale-use: var(--f-eyes-left-light-scale, var(--scale-use));
  --offset-x-use: var(--f-eyes-left-light-x, var(--offset-x-use));
  --offset-y-use: var(--f-eyes-left-light-y, var(--offset-y-use));
}

body[data-gender="female"][data-skin="light"] .layer-eyes-right{
  --scale-use: var(--f-eyes-right-light-scale, var(--scale-use));
  --offset-x-use: var(--f-eyes-right-light-x, var(--offset-x-use));
  --offset-y-use: var(--f-eyes-right-light-y, var(--offset-y-use));
}

body[data-gender="female"][data-skin="dark"] .layer-eyes-left{
  --scale-use: var(--f-eyes-left-dark-scale, var(--scale-use));
  --offset-x-use: var(--f-eyes-left-dark-x, var(--offset-x-use));
  --offset-y-use: var(--f-eyes-left-dark-y, var(--offset-y-use));
}

body[data-gender="female"][data-skin="dark"] .layer-eyes-right{
  --scale-use: var(--f-eyes-right-dark-scale, var(--scale-use));
  --offset-x-use: var(--f-eyes-right-dark-x, var(--offset-x-use));
  --offset-y-use: var(--f-eyes-right-dark-y, var(--offset-y-use));
}

    /* ============================================================
       ✅ NEW — LEFT / RIGHT / LIGHT / DARK (EYES / EARS / SHOES)
       ============================================================ */

    .layer-left{
      --scale-light:var(--scale-left-light, var(--scale));
      --offset-x-light:var(--offset-x-left-light, var(--offset-x));
      --offset-y-light:var(--offset-y-left-light, var(--offset-y));
      --scale-dark:var(--scale-left-dark, var(--scale));
      --offset-x-dark:var(--offset-x-left-dark, var(--offset-x));
      --offset-y-dark:var(--offset-y-left-dark, var(--offset-y));
    }

    .layer-right{
      --scale-light:var(--scale-right-light, var(--scale));
      --offset-x-light:var(--offset-x-right-light, var(--offset-x));
      --offset-y-light:var(--offset-y-right-light, var(--offset-y));
      --scale-dark:var(--scale-right-dark, var(--scale));
      --offset-x-dark:var(--offset-x-right-dark, var(--offset-x));
      --offset-y-dark:var(--offset-y-right-dark, var(--offset-y));
    }

    /* ============================================================
       FIXED EARRINGS BASE
       ============================================================ */

    .layer-ears-left{ transform-origin:center top; }
    .layer-ears-right{ transform-origin:center top; }

  </style>
</head>

<body data-no-global-carrie="true" data-gender="female">

<header class="px-4 py-4">
  <!-- header unchanged -->
</header>

<main class="max-w-6xl mx-auto px-4 pb-10 pt-5">
  <!-- content unchanged -->
</main>

<script src="carrie-closet-data.js?v=127"></script>
<script src="carrie-closet.js?v=127"></script>
</body>
</html>
