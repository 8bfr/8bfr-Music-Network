<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Carrie Closet â€” 8BFR Music Network</title>
  <meta name="description" content="Customize Carrieâ€™s outfits, makeup, and styles â€” 8BFR Music Network." />
  <link rel="icon" href="assets/images/favicon.png" />
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      background:
        radial-gradient(900px 600px at 10% -10%, rgba(124,58,237,.35), transparent 60%),
        radial-gradient(800px 400px at 110% 10%, rgba(0,217,255,.22), transparent 60%),
        linear-gradient(#0b0014,#000);
      color: #eae6ff;
      font-family: system-ui, sans-serif;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Closet item card */
    .item-card:hover {
      box-shadow: 0 0 14px rgba(124,58,237,.4);
      transform: translateY(-2px);
      transition: all .2s ease;
    }
    .filter-btn.active {
      background:rgba(124,58,237,.6);
      border-color:rgba(168,85,247,.8);
      color:#fff;
    }

    /* Mannequin */
    #mannequinBox {
      border: 1px solid rgba(129,140,248,.45);
      background: rgba(10,2,26,.7);
      border-radius: 16px;
    }
    #mannequinVideo {
      width: 100%;
      border-radius: 16px;
      object-fit: contain;
    }
  </style>
</head>

<body>

  <!-- header -->
  <header class="p-4 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <img src="assets/images/logo_8bfr.svg" class="h-9"
           onerror="this.src='assets/images/8bfr.png'">
      <div>
        <h1 class="text-xl sm:text-2xl font-bold">
          ðŸ‘— Carrie Closet
        </h1>
        <p class="text-xs text-purple-300/80 -mt-0.5">
          Customize â€¢ Collect â€¢ Upgrade
        </p>
      </div>
    </div>
    <a href="carrie-chat.html" class="text-[#00d9ff] text-sm underline hover:opacity-80">
      â¬… Back to Chat
    </a>
  </header>

  <main class="max-w-7xl mx-auto px-4 pb-20">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

      <!-- MANNEQUIN PREVIEW -->
      <div id="mannequinBox" class="p-4 flex flex-col items-center">
        <h2 class="text-lg font-semibold text-purple-300 mb-3">Preview</h2>
        <video
          id="mannequinVideo"
          autoplay loop muted playsinline
          src="assets/videos/Carrie_casual_animate_3_1.webm"
        ></video>
        <p class="text-xs mt-2 opacity-80">Carrieâ€™s outfit will appear here</p>
      </div>

      <!-- CLOSET ITEMS -->
      <div class="lg:col-span-2">
        
        <!-- FILTERS -->
        <div class="flex flex-wrap gap-2 mb-5">
          <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="all">All</button>
          <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="conservative">Conservative</button>
          <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="casual">Casual</button>
          <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="glam">Glam</button>
          <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="sexy">Sexy</button>
          <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="swim">Swim</button>
          <button class="filter-btn border border-purple-500/40 rounded-full px-3 py-1.5 text-xs" data-filter="theme">Theme</button>
        </div>

        <!-- GRID -->
        <div id="closetGrid" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
      </div>

    </div>
  </main>

  <!-- Closet Data JS -->
  <script src="carrie-closet-data.js?v=1"></script>

  <!-- Render closet -->
  <script>
    const grid = document.getElementById("closetGrid");
    const filterBtns = document.querySelectorAll(".filter-btn");
    const mannequinVideo = document.getElementById("mannequinVideo");

    let filter = "all";

    function renderGrid() {
      grid.innerHTML = "";

      const visible = CARRIE_CLOSET_OUTFITS.filter(o =>
        filter === "all" ? true : o.style === filter
      );

      visible.forEach(item => {
        const card = document.createElement("div");
        card.className =
          "item-card border border-purple-500/40 rounded-xl bg-slate-900/80 p-4 text-sm";

        card.innerHTML = `
          <div class="font-semibold text-purple-100">${item.name}</div>
          <div class="text-[11px] text-purple-300/70 mb-1">${item.style} â€¢ ${item.subType}</div>
          <p class="text-[11px] text-purple-200/80 mb-2">${item.description}</p>

          <div class="flex justify-between items-center mt-2">
            <div class="text-emerald-300 font-bold text-xs">${item.coins} ðŸª™</div>
            <button class="buy-btn text-xs bg-purple-700/60 border border-purple-400/50 hover:bg-purple-700 text-white px-3 py-1.5 rounded-lg">
              Try On
            </button>
          </div>
        `;

        card.querySelector(".buy-btn").addEventListener("click", () => {
          mannequinVideo.src = item.video;
        });

        grid.appendChild(card);
      });
    }

    filterBtns.forEach(btn => {
      btn.addEventListener("click", () => {
        filterBtns.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        filter = btn.getAttribute("data-filter");
        renderGrid();
      });
    });

    document.querySelector('[data-filter="all"]').classList.add("active");
    renderGrid();
  </script>

  <!-- 8BFR GLOBAL UI (Hamburger + Carrie avatar) -->
  <script src="scripts.js?v=1" defer></script>

</body>
</html>
