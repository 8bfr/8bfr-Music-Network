<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Carrie Closet — 8BFR Music Network</title>
  <meta name="description" content="Dress Carrie with outfits and effects on the 8BFR Music Network." />
  <link rel="icon" href="assets/images/favicon.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(124,58,237,.35), transparent 60%),
        radial-gradient(900px 400px at 110% 10%, rgba(0,217,255,.22), transparent 60%),
        linear-gradient(#0b0014,#000);
      color:#eae6ff;
      margin:0;
      min-height:100vh;
      overflow-x:hidden;
    }
    header{
      background:rgba(15,0,30,.9);
      border-bottom:1px solid rgba(124,58,237,.5);
    }
    .card{
      border-radius:18px;
      border:1px solid rgba(124,58,237,.55);
      background:rgba(10,2,26,.95);
      box-shadow:0 16px 40px rgba(0,0,0,.75);
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:.3rem;
      background:#120327;
      border:1px solid rgba(124,58,237,.6);
      color:#eae6ff;
      padding:.45rem .85rem;
      border-radius:.75rem;
      font-size:.85rem;
      text-decoration:none;
      cursor:pointer;
    }
    .btn:hover{
      background:#190536;
    }
    .btn-primary{
      background:#7c3aed;
      border-color:#7c3aed;
      color:#fff;
    }
    .btn-primary:hover{ filter:brightness(1.05); }
    .badge{
      font-size:.65rem;
      text-transform:uppercase;
      letter-spacing:.08em;
      border-radius:999px;
      padding:.1rem .5rem;
      border:1px solid rgba(147,197,253,.8);
      background:rgba(15,23,42,.9);
    }
  </style>
</head>
<body>
  <header class="px-4 py-4">
    <div class="max-w-6xl mx-auto flex items-center justify-between gap-3">
      <div class="flex items-center gap-3">
        <img src="assets/images/logo_8bfr.svg"
             alt="8BFR logo"
             class="h-9 w-auto"
             onerror="this.onerror=null;this.src='assets/images/8bfr.png'">
        <div>
          <h1 class="text-xl sm:text-2xl font-extrabold">
            Carrie Closet
          </h1>
          <p class="text-[11px] text-purple-300/80 -mt-0.5">
            Choose outfits &amp; effects for Carrie
          </p>
        </div>
      </div>
      <a href="index.html"
         class="text-[#00d9ff] text-xs sm:text-sm underline/50 hover:underline">
        ⬅ Back to Home
      </a>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 py-5">
    <div class="card p-4 sm:p-6">
      <div class="flex flex-col lg:flex-row gap-6">
        <!-- Left: Carrie preview -->
        <div class="lg:w-1/3 flex flex-col items-center gap-3">
          <div class="w-full max-w-xs rounded-2xl border border-purple-500/60 bg-black/40 p-2">
            <video
              id="carriePreview"
              class="w-full h-auto rounded-xl"
              autoplay
              loop
              muted
              playsinline
              src="assets/videos/carrie_casual_animate_3_1.webm"
            ></video>
          </div>
          <div class="text-center text-sm text-purple-100/80">
            <div>Current outfit:</div>
            <div id="currentOutfitLabel" class="font-semibold text-purple-200">
              Casual Carrie
            </div>
            <div class="mt-1 text-[11px] text-purple-300/80">
              Changes here will be used by Carrie across the site once wired to the avatar.
            </div>
          </div>
        </div>

        <!-- Right: Outfit list -->
        <div class="lg:w-2/3 space-y-4">
          <div class="flex items-center justify-between gap-2 mb-1">
            <h2 class="text-sm font-semibold text-purple-100">
              Outfits
            </h2>
            <span class="badge">
              Beta Closet
            </span>
          </div>

          <div class="grid sm:grid-cols-2 gap-3">
            <!-- Casual (free) -->
            <div class="rounded-xl border border-purple-500/60 bg-black/40 p-3 flex flex-col gap-2">
              <div class="flex items-center justify-between gap-2">
                <div>
                  <div class="text-sm font-semibold">Casual Carrie</div>
                  <div class="text-[11px] text-purple-200/80">
                    Default chill outfit • personal mode vibe.
                  </div>
                </div>
                <span class="badge bg-emerald-800/40 border-emerald-400/80 text-emerald-100">
                  Free
                </span>
              </div>
              <button
                type="button"
                class="btn btn-primary mt-1"
                data-outfit="casual"
              >
                Wear this
              </button>
            </div>

            <!-- Business (free) -->
            <div class="rounded-xl border border-purple-500/60 bg-black/40 p-3 flex flex-col gap-2">
              <div class="flex items-center justify-between gap-2">
                <div>
                  <div class="text-sm font-semibold">Business Carrie</div>
                  <div class="text-[11px] text-purple-200/80">
                    Professional outfit • studio &amp; business mode.
                  </div>
                </div>
                <span class="badge bg-emerald-800/40 border-emerald-400/80 text-emerald-100">
                  Free
                </span>
              </div>
              <button
                type="button"
                class="btn btn-primary mt-1"
                data-outfit="business"
              >
                Wear this
              </button>
            </div>

            <!-- Locked example: Concert Neon -->
            <div class="rounded-xl border border-purple-500/40 bg-black/30 p-3 flex flex-col gap-2 opacity-70">
              <div class="flex items-center justify-between gap-2">
                <div>
                  <div class="text-sm font-semibold">Concert Neon (Coming Soon)</div>
                  <div class="text-[11px] text-purple-200/80">
                    Stage outfit for virtual concerts.
                  </div>
                </div>
                <span class="badge bg-gray-800/60 border-gray-400/60 text-gray-200">
                  Locked
                </span>
              </div>
              <button
                type="button"
                class="btn mt-1"
                disabled
              >
                Unlock in Shop (soon)
              </button>
            </div>

            <!-- Locked example: Cozy Hoodie -->
            <div class="rounded-xl border border-purple-500/40 bg-black/30 p-3 flex flex-col gap-2 opacity-70">
              <div class="flex items-center justify-between gap-2">
                <div>
                  <div class="text-sm font-semibold">Cozy Hoodie (Coming Soon)</div>
                  <div class="text-[11px] text-purple-200/80">
                    Chill outfit for late-night sessions.
                  </div>
                </div>
                <span class="badge bg-gray-800/60 border-gray-400/60 text-gray-200">
                  Locked
                </span>
              </div>
              <button
                type="button"
                class="btn mt-1"
                disabled
              >
                Unlock in Shop (soon)
              </button>
            </div>
          </div>

          <p class="text-[11px] text-purple-300/80 mt-2">
            Note: In this beta, outfits save to your browser only. Later, outfits and effects will sync to your 8BFR account and update the floating Carrie avatar everywhere.
          </p>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Simple local outfit handling for now:
    //   localStorage.carrie_outfit = "casual" | "business"
    (function () {
      const preview = document.getElementById("carriePreview");
      const label   = document.getElementById("currentOutfitLabel");
      const buttons = document.querySelectorAll("[data-outfit]");

      const OUTFITS = {
        casual: {
          label: "Casual Carrie",
          src: "assets/videos/carrie_casual_animate_3_1.webm"
        },
        business: {
          label: "Business Carrie",
          src: "assets/videos/carrie_business_animate.webm"
        }
      };

      function applyOutfit(name) {
        const o = OUTFITS[name] || OUTFITS["casual"];
        if (preview && o.src) {
          preview.src = o.src;
          try {
            preview.play().catch(()=>{});
          } catch {}
        }
        if (label) label.textContent = o.label;
        try {
          localStorage.setItem("carrie_outfit", name);
        } catch {}
      }

      // Load saved outfit if exists
      let saved = null;
      try {
        saved = localStorage.getItem("carrie_outfit");
      } catch {}
      if (saved && OUTFITS[saved]) {
        applyOutfit(saved);
      } else {
        applyOutfit("casual");
      }

      buttons.forEach(btn => {
        btn.addEventListener("click", () => {
          const outfit = btn.getAttribute("data-outfit") || "casual";
          applyOutfit(outfit);
        });
      });
    })();
  </script>
</body>
</html>
