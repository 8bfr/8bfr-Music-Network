<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Community Feed — 8BFR</title>
<link rel="icon" href="assets/images/favicon.png" />
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body{background:linear-gradient(#0b0014,#000);color:#eae6ff;font-family:system-ui;margin:0}
  .card{border:1px solid rgba(124,58,237,.35);background:#0c0618;border-radius:14px;box-shadow:0 0 20px rgba(124,58,237,.18);padding:16px}
  .input{width:100%;padding:.55rem .7rem;background:#120327;color:#fff;border:1px solid rgba(124,58,237,.5);border-radius:.55rem}
  .btn{display:inline-block;background:#120327;border:1px solid rgba(124,58,237,.6);color:#eae6ff;padding:.55rem .9rem;border-radius:.7rem;text-decoration:none}
  .btn:hover{background:#190536}
</style>
</head>
<body>
<header class="px-4 py-4 bg-[rgba(15,0,30,.9)] border-b border-purple-500/40">
  <div class="max-w-5xl mx-auto flex items-center justify-between">
    <a href="index.html" class="btn">← Back</a>
    <h1 class="text-xl font-bold">Community Feed</h1>
    <span></span>
  </div>
</header>

<main class="max-w-5xl mx-auto px-4 py-5">
  <div class="card">
    <h3 class="font-bold mb-2">Create Post</h3>
    <textarea id="post" class="input" rows="3" placeholder="Say something dope…"></textarea>
    <input id="media" class="input mt-2" type="file" accept="image/*,video/*">
    <div class="mt-2"><button id="publish" class="btn">Publish</button></div>
  </div>
  <div id="feed" class="mt-4 space-y-3"></div>
</main>

<script>
const KEY='feed_v1'; const $=s=>document.querySelector(s); const read=()=>JSON.parse(localStorage.getItem(KEY)||'[]'); const write=a=>localStorage.setItem(KEY,JSON.stringify(a));
const toDataUrl=f=>new Promise(r=>{const fr=new FileReader();fr.onload=()=>r(fr.result);fr.readAsDataURL(f)});
function render(){const a=read();$('#feed').innerHTML=a.map(p=>`<div class="card"><div class="text-xs opacity-70">${new Date(p.ts).toLocaleString()}</div><div class="mt-1">${p.text||''}</div>${p.media?`<div class="mt-2"><img src="${p.media}" class="rounded max-h-72"></div>`:''}</div>`).join('')}
$('#publish').onclick=async()=>{const text=$('#post').value.trim();let media=null;if($('#media').files[0]) media=await toDataUrl($('#media').files[0]); if(!text && !media) return; const a=read();a.unshift({text,media,ts:Date.now()});write(a);$('#post').value='';$('#media').value='';render();}
render();
</script>
</body>
</html>
