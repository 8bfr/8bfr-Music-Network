
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Profiles - 8BFR Music Network</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Work+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --primary: #ffaa00;
            --secondary: #ff8800;
            --dark: #0a0a0a;
            --dark-card: #1a1a1a;
            --text: #ffffff;
            --border: #333333;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Work Sans', sans-serif; background: var(--dark); color: var(--text); line-height: 1.6; }
        .header { background: linear-gradient(135deg, var(--dark-card), #000); border-bottom: 2px solid var(--primary); padding: 1.5rem 2rem; display: flex; justify-content: space-between; align-items: center; }
        .header h1 { font-family: 'Bebas Neue', cursive; font-size: 2rem; background: linear-gradient(90deg, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .container { max-width: 1400px; margin: 2rem auto; padding: 0 2rem; }
        .search-box { width: 100%; padding: 1rem; background: var(--dark-card); border: 1px solid var(--border); border-radius: 8px; color: var(--text); margin-bottom: 2rem; font-size: 1rem; }
        .filters { display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap; }
        .filter-btn { background: var(--dark-card); color: var(--text); border: 1px solid var(--border); padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; transition: all 0.3s ease; }
        .filter-btn.active { background: var(--primary); border-color: var(--primary); }
        .filter-btn:hover { border-color: var(--primary); }
        .profiles-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem; }
        .profile-card { background: var(--dark-card); border: 1px solid var(--border); border-radius: 8px; padding: 1.5rem; transition: all 0.3s ease; cursor: pointer; }
        .profile-card:hover { border-color: var(--primary); transform: translateY(-4px); box-shadow: 0 4px 20px rgba(255, 170, 0, 0.2); }
        .profile-avatar { width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, var(--primary), var(--secondary)); display: flex; align-items: center; justify-content: center; font-size: 2rem; margin-bottom: 1rem; }
        .profile-card h3 { margin-bottom: 0.5rem; }
        .profile-role { color: var(--primary); font-size: 0.9rem; margin-bottom: 0.5rem; }
        .profile-badges { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 1rem; }
        .badge { background: var(--dark); border: 1px solid var(--primary); padding: 0.3rem 0.6rem; border-radius: 12px; font-size: 0.75rem; }
        .btn { background: var(--primary); color: white; border: none; padding: 0.5rem 1.5rem; border-radius: 4px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; text-decoration: none; display: inline-block; }
        .btn:hover { background: var(--secondary); }
        .stats { margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border); font-size: 0.85rem; color: #999; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ‘¥ ALL PROFILES</h1>
        <a href="index.html" class="btn">ğŸ  Home</a>
    </div>
    <div class="container">
        <input type="text" class="search-box" id="searchBox" placeholder="ğŸ” Search by username, role, or badge..." oninput="searchProfiles()">
        <div class="filters">
            <button class="filter-btn active" onclick="filterByRole('all')">All</button>
            <button class="filter-btn" onclick="filterByRole('artist')">ğŸ¤ Artists</button>
            <button class="filter-btn" onclick="filterByRole('beatmaker')">ğŸšï¸ Beatmakers</button>
            <button class="filter-btn" onclick="filterByRole('producer')">ğŸ§ Producers</button>
            <button class="filter-btn" onclick="filterByRole('verified')">ğŸ›¡ï¸ Verified</button>
            <button class="filter-btn" onclick="filterByRole('vip_member')">ğŸ–ï¸ VIP</button>
            <button class="filter-btn" onclick="filterByRole('founder')">âš¡ Founders</button>
        </div>
        <div class="stats" style="margin-bottom: 1rem; text-align: center; font-size: 1rem;">
            <span id="profileCount">0</span> profiles found
        </div>
        <div class="profiles-grid" id="profilesGrid"></div>
    </div>
    <script>
        const SUPABASE_URL = 'https://novbuvwpjnxwwvdekjhr.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5vdmJ1dndwam54d3d2ZGVramhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExODkxODUsImV4cCI6MjA3Njc2NTE4NX0.1UUkdGafh6ZplAX8hi7Bvj94D2gvFQZUl0an1RvcSA0';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
        let allProfiles = [];
        async function init() {
            await loadAllProfiles();
        }
        async function loadAllProfiles() {
            const { data: profiles } = await supabase.from('profiles').select('*').order('created_at', { ascending: false });
            allProfiles = profiles || [];
            displayProfiles(allProfiles);
        }
        function displayProfiles(profiles) {
            const badgeIcons = {'artist': 'ğŸ¤', 'beatmaker': 'ğŸšï¸', 'producer': 'ğŸ§', 'singer': 'ğŸ™ï¸', 'musician': 'ğŸ¸', 'engineer': 'ğŸ›ï¸', 'songwriter': 'ğŸ¼', 'dj': 'ğŸ“€', 'label': 'ğŸ·ï¸', 'rapper': 'ğŸ¤', 'designer': 'ğŸ¨', 'verified': 'ğŸ›¡ï¸', 'donor': 'ğŸ’°', 'vip_member': 'ğŸ–ï¸', 'founder': 'âš¡', 'mod': 'ğŸ’¬', 'admin': 'âš™ï¸', 'owner': 'ğŸ‘‘', 'g7': 'ğŸ‘‘'};
            const grid = document.getElementById('profilesGrid');
            if (!profiles || profiles.length === 0) {
                grid.innerHTML = '<p style="text-align:center;color:#999;grid-column:1/-1;padding:3rem;">No profiles found</p>';
                document.getElementById('profileCount').textContent = '0';
                return;
            }
            document.getElementById('profileCount').textContent = profiles.length;
            grid.innerHTML = profiles.map(p => {
                const tags = p.tags || [];
                const badgesHtml = tags.slice(0, 5).map(tag => `<span class="badge">${badgeIcons[tag] || 'ğŸ·ï¸'} ${tag}</span>`).join('');
                return `<div class="profile-card"><div class="profile-avatar">${badgeIcons[p.role] || 'ğŸ‘¤'}</div><h3>${p.username || p.display_name || 'Unknown'}</h3><div class="profile-role">${p.role?.toUpperCase() || 'USER'}${p.verified_artist ? ' ğŸ›¡ï¸' : ''}</div>${p.bio ? `<p style="color:#999;font-size:0.85rem;margin-top:0.5rem;">${p.bio.substring(0, 100)}${p.bio.length > 100 ? '...' : ''}</p>` : ''}<div class="profile-badges">${badgesHtml || '<span style="color:#999;">No badges</span>'}</div><div class="stats">Joined ${new Date(p.created_at).toLocaleDateString()}</div></div>`;
            }).join('');
        }
        function filterByRole(role) {
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            if (role === 'all') {
                displayProfiles(allProfiles);
            } else if (role === 'verified') {
                displayProfiles(allProfiles.filter(p => p.verified_artist));
            } else {
                displayProfiles(allProfiles.filter(p => p.tags?.includes(role) || p.role === role));
            }
        }
        function searchProfiles() {
            const query = document.getElementById('searchBox').value.toLowerCase();
            if (!query) {
                displayProfiles(allProfiles);
                return;
            }
            const filtered = allProfiles.filter(p => {
                const username = (p.username || '').toLowerCase();
                const displayName = (p.display_name || '').toLowerCase();
                const role = (p.role || '').toLowerCase();
                const tags = (p.tags || []).join(' ').toLowerCase();
                const bio = (p.bio || '').toLowerCase();
                return username.includes(query) || displayName.includes(query) || role.includes(query) || tags.includes(query) || bio.includes(query);
            });
            displayProfiles(filtered);
        }
        init();
    </script>
</body>
</html>
