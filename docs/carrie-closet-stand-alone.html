<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Carrie Closet â€” 8BFR Music Network (Test)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  
  <style>
    :root {
      --ring: rgba(124,58,237,.55);
      --glass: rgba(12,6,24,.80);
    }
  
    html, body { scroll-behavior:smooth; }
  
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(124,58,237,.30), transparent 60%),
        radial-gradient(900px 400px at 110% 10%, rgba(0,217,255,.22), transparent 60%),
        linear-gradient(#050011,#000);
      color:#eae6ff;
      margin:0;
      min-height:100vh;
      overflow-x:hidden;
    }
  
    header {
      position:relative;
      z-index:5;
      background:rgba(10,0,25,.96);
      border-bottom:1px solid rgba(124,58,237,.5);
      box-shadow:0 18px 40px rgba(0,0,0,.7);
    }
  
    .shell {
      border-radius:20px;
      border:1px solid rgba(129,140,248,.6);
      background:
        radial-gradient(circle at 0 0,rgba(76,29,149,.40),transparent 60%),
        radial-gradient(circle at 100% 0,rgba(14,165,233,.22),transparent 60%),
        rgba(10,6,30,.96);
      box-shadow:0 18px 50px rgba(0,0,0,.8);
    }
    
    .closet-item-card {
      border-radius:12px;
      border:1px solid rgba(148,163,255,.4);
      background:rgba(15,23,42,.96);
      padding:.45rem .55rem;
      text-align:left;
      cursor:pointer;
      transition:transform .08s ease, box-shadow .08s ease, border-color .08s ease, background .08s ease;
      display:flex;
      gap:.45rem;
      align-items:center;
    }
  
    .closet-item-card:hover {
      transform:translateY(-1px);
      border-color:#a855f7;
      box-shadow:0 0 0 1px rgba(129,140,248,.85),0 0 18px rgba(124,58,237,.55);
      background:rgba(30,64,175,.85);
    }
  
    .closet-item-card.active {
      border-color:#22c55e;
      box-shadow:0 0 0 1px rgba(22,163,74,.8),0 0 18px rgba(22,163,74,.7);
      background:rgba(5,46,22,.92);
    }
  
    .closet-item-thumb {
      width:44px;
      height:44px;
      border-radius:10px;
      border:1px solid rgba(148,163,255,.4);
      background:#020617;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      flex-shrink:0;
    }
  
    .closet-item-thumb img {
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
    }
  
    #closetError {
      border-radius:999px;
      border:1px solid rgba(248,113,113,.8);
      background:rgba(127,29,29,.90);
      padding:.4rem .75rem;
      font-size:11px;
    }
  
    #closetEmpty {
      border-radius:999px;
      border:1px dashed rgba(148,163,255,.5);
      background:rgba(15,23,42,.86);
      padding:.4rem .75rem;
      font-size:11px;
    }
  </style>
</head>
<body data-no-global-carrie="true" data-gender="female" data-skin="light">
  
  <header class="px-4 py-4">
    <div class="max-w-6xl mx-auto">
      <h1 class="text-2xl font-extrabold">
        <span class="text-[#a855f7]">Carrie Closet</span>
        <span class="text-sm font-semibold ml-1 text-emerald-300/80">TEST MODE</span>
      </h1>
      <p class="text-[11px] text-purple-300/80">Testing data loading...</p>
    </div>
  </header>
  
  <main class="max-w-6xl mx-auto px-4 pb-10 pt-5">
    <div class="shell p-6">
      <h2 class="text-lg mb-4">Item Count: <span id="itemCount" class="text-green-400">Loading...</span></h2>
      
      <div id="closetError" class="hidden">
        Data failed to load. Check console for errors.
      </div>
      
      <div id="closetEmpty" class="hidden">
        No items found in database.
      </div>
      
      <div id="closetItemsGrid" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2.5"></div>
    </div>
  </main>
  
  <!-- EMBEDDED DATA -->
  <script>
    (function() {
      const base = "assets/images";

      function item(opts) {
        return Object.assign({
          id: "",
          gender: "female",
          category: "hair",
          name: "",
          label: "",
          img: ""
        }, opts);
      }

      const items = [
        item({id:"f_hair_straight_blonde", gender:"female", category:"hair", name:"Straight Blonde", label:"straight â€¢ blonde", img:base+"/hair/straight/female_straight_blonde.png"}),
        item({id:"f_hair_straight_brown", gender:"female", category:"hair", name:"Straight Brown", label:"straight â€¢ brown", img:base+"/hair/straight/female_straight_brown.png"}),
        item({id:"f_hair_wavy_blonde", gender:"female", category:"hair", name:"Wavy Blonde", label:"wavy â€¢ blonde", img:base+"/hair/wavy/female_wavy_blonde.png"}),
        item({id:"f_hair_wavy_black", gender:"female", category:"hair", name:"Wavy Black", label:"wavy â€¢ black", img:base+"/hair/wavy/female_wavy_black.png"}),
        item({id:"u_top_tank", gender:"unisex", category:"top", name:"8BFR Tank Top", label:"unisex tank", img:base+"/unisex/cloths/unisex_tank-top_v1.png"}),
        item({id:"u_top_tee", gender:"unisex", category:"top", name:"8BFR Tee", label:"unisex tee", img:base+"/unisex/cloths/unisex_tee-shirt.png"}),
        item({id:"f_top_bikini_red", gender:"female", category:"top", name:"Red Bikini Top", label:"bikini top", img:base+"/female_cloths/female_bikini-top_red.png"}),
        item({id:"f_bottom_shorts", gender:"female", category:"bottom", name:"Denim Shorts", label:"shorts", img:base+"/female_cloths/female_shorts.png"}),
        item({id:"f_bottom_skirt", gender:"female", category:"bottom", name:"Mini Skirt", label:"skirt", img:base+"/female_cloths/female_skirt.png"}),
        item({id:"u_eyes_blue", gender:"unisex", category:"eyes", name:"Blue Eyes", label:"blue", img:base+"/unisex/eyes/unisex_eyes_blue_left.png"}),
        item({id:"u_eyes_green", gender:"unisex", category:"eyes", name:"Green Eyes", label:"green", img:base+"/unisex/eyes/unisex_eyes_green_left.png"}),
        item({id:"u_shoes_sneakers", gender:"unisex", category:"shoes", name:"Sneakers", label:"shoes", img:base+"/unisex/shoes/unisex_shoes_left.png"})
      ];

      window.CARRIE_CLOSET_ITEMS = items;
      console.log("âœ… Items loaded:", items.length);
    })();
  </script>
  
  <!-- EMBEDDED LOGIC -->
  <script>
    (function() {
      const $ = s => document.querySelector(s);
      const grid = $("#closetItemsGrid");
      const emptyMsg = $("#closetEmpty");
      const errBox = $("#closetError");
      const itemCount = $("#itemCount");

      function init() {
        const items = window.CARRIE_CLOSET_ITEMS;
        
        console.log("ðŸ” Checking items...", items);
        
        if (!items || !Array.isArray(items)) {
          console.error("âŒ No items array found!");
          if (errBox) errBox.classList.remove("hidden");
          if (itemCount) itemCount.textContent = "ERROR - No data";
          return;
        }

        if (itemCount) itemCount.textContent = items.length + " items loaded âœ“";

        if (items.length === 0) {
          if (emptyMsg) emptyMsg.classList.remove("hidden");
          return;
        }

        items.forEach(itemObj => {
          const card = document.createElement("div");
          card.className = "closet-item-card";

          const thumbWrap = document.createElement("div");
          thumbWrap.className = "closet-item-thumb";
          const img = document.createElement("img");
          img.src = itemObj.img;
          img.alt = itemObj.name;
          img.onerror = function() {
            this.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='44' height='44'%3E%3Crect width='44' height='44' fill='%23333'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%23999' font-size='10'%3E?%3C/text%3E%3C/svg%3E";
          };
          thumbWrap.appendChild(img);

          const meta = document.createElement("div");
          meta.className = "flex-1 min-w-0";
          const title = document.createElement("div");
          title.className = "text-[12px] font-semibold truncate";
          title.textContent = itemObj.name;
          const sub = document.createElement("div");
          sub.className = "text-[10px] text-purple-200/70 truncate";
          sub.textContent = itemObj.label;
          meta.appendChild(title);
          meta.appendChild(sub);

          card.appendChild(thumbWrap);
          card.appendChild(meta);
          grid.appendChild(card);
        });

        console.log("âœ… Rendered", items.length, "items");
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    })();
  </script>
</body>
</html>
