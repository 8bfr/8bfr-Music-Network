<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title id="pageTitle">Blog Post ‚Äî 8BFR</title>
<meta name="description" id="pageDescription" content="Read this blog post from 8BFR Music Network">
<link rel="icon" href="assets/images/favicon.png">
<script src="https://cdn.tailwindcss.com"></script>
<style>
body {
  background: linear-gradient(#0b0014, #000);
  color: #eae6ff;
  font-family: system-ui, -apple-system, sans-serif;
  margin: 0;
  padding: 0;
  min-height: 100vh;
  padding-bottom: 70px;
}

.article-content {
  font-size: 1.1rem;
  line-height: 1.8;
  color: #eae6ff;
}

.article-content p {
  margin-bottom: 1.5rem;
}

.article-content h2 {
  font-size: 1.75rem;
  font-weight: bold;
  margin-top: 2rem;
  margin-bottom: 1rem;
  color: #a855f7;
}

.article-content h3 {
  font-size: 1.5rem;
  font-weight: 600;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  color: #a855f7;
}

.article-content ul, .article-content ol {
  margin-bottom: 1.5rem;
  padding-left: 2rem;
}

.article-content li {
  margin-bottom: 0.5rem;
}

.category-tag {
  display: inline-block;
  padding: 0.5rem 1rem;
  background: rgba(124, 58, 237, 0.2);
  border: 1px solid rgba(124, 58, 237, 0.4);
  border-radius: 50px;
  font-size: 0.85rem;
  font-weight: 600;
  color: #a855f7;
  margin-right: 0.5rem;
}

.btn {
  display: inline-block;
  background: #7c3aed;
  border: 1px solid #7c3aed;
  color: #fff;
  padding: 0.75rem 1.5rem;
  border-radius: 0.75rem;
  text-decoration: none;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.btn:hover {
  background: #6d28d9;
  transform: translateY(-1px);
}

.btn-secondary {
  background: transparent;
  color: #a855f7;
  border: 1px solid rgba(124, 58, 237, 0.6);
}

.btn-secondary:hover {
  background: rgba(124, 58, 237, 0.2);
}

.related-post {
  border: 1px solid rgba(124, 58, 237, 0.3);
  background: rgba(12, 6, 24, 0.8);
  border-radius: 12px;
  padding: 1.25rem;
  transition: all 0.2s;
  cursor: pointer;
  text-decoration: none;
  color: inherit;
  display: block;
}

.related-post:hover {
  border-color: rgba(124, 58, 237, 0.6);
  transform: translateX(4px);
  box-shadow: 0 4px 20px rgba(124, 58, 237, 0.2);
}

.share-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: rgba(124, 58, 237, 0.1);
  border: 1px solid rgba(124, 58, 237, 0.3);
  border-radius: 50px;
  color: #eae6ff;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 0.9rem;
  text-decoration: none;
}

.share-btn:hover {
  background: rgba(124, 58, 237, 0.2);
  border-color: rgba(124, 58, 237, 0.5);
}
</style>
</head>
<body>

<header class="px-4 py-4 bg-[rgba(15,0,30,.95)] border-b border-purple-500/40 sticky top-0 z-50 backdrop-blur-md">
  <div class="max-w-4xl mx-auto flex items-center justify-between">
    <a href="blog.html" class="btn-secondary btn">‚Üê Blog</a>
    <h1 class="text-lg font-bold">8BFR Blog</h1>
    <a href="index.html" class="btn-secondary btn" style="font-size: 0.9rem; padding: 0.5rem 1rem;">
      üè† Home
    </a>
  </div>
</header>

<main class="max-w-4xl mx-auto px-4 py-8">
  
  <!-- Loading State -->
  <div id="loadingState" style="text-align: center; padding: 4rem 2rem;">
    <div style="font-size: 3rem; margin-bottom: 1rem;">‚è≥</div>
    <p style="font-size: 1.1rem; opacity: 0.8;">Loading post...</p>
  </div>

  <!-- Post Content -->
  <article id="postContent" style="display: none;">
    
    <!-- Post Header -->
    <div style="margin-bottom: 3rem;">
      <div id="postCategories" style="margin-bottom: 1rem;"></div>
      <h1 id="postTitle" style="font-size: 2.5rem; font-weight: bold; line-height: 1.2; margin-bottom: 1.5rem;"></h1>
      
      <div style="display: flex; align-items: center; gap: 1.5rem; flex-wrap: wrap; margin-bottom: 1.5rem; padding-bottom: 1.5rem; border-bottom: 1px solid rgba(124, 58, 237, 0.3);">
        <div style="display: flex; align-items: center; gap: 0.5rem;">
          <div style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #7c3aed, #a855f7); display: flex; align-items: center; justify-content: center; font-size: 1.25rem;">
            ‚úçÔ∏è
          </div>
          <div>
            <div id="postAuthor" style="font-weight: 600;"></div>
            <div id="postDate" style="font-size: 0.85rem; opacity: 0.7;"></div>
          </div>
        </div>
        <div id="postMeta" style="display: flex; gap: 1rem; font-size: 0.9rem; opacity: 0.8;">
        </div>
      </div>

      <!-- Share Buttons -->
      <div style="display: flex; gap: 0.75rem; flex-wrap: wrap; margin-bottom: 2rem;">
        <button class="share-btn" onclick="shareTwitter()">üê¶ Tweet</button>
        <button class="share-btn" onclick="shareFacebook()">üìò Share</button>
        <button class="share-btn" onclick="copyLink()">üîó Copy Link</button>
      </div>
    </div>

    <!-- Article Body -->
    <div id="articleBody" class="article-content" style="margin-bottom: 3rem;"></div>

    <!-- Tags -->
    <div id="postTags" style="margin-bottom: 3rem; padding: 1.5rem; background: rgba(124, 58, 237, 0.05); border-radius: 12px; border: 1px solid rgba(124, 58, 237, 0.2);"></div>

    <!-- Author Bio -->
    <div style="padding: 2rem; background: rgba(124, 58, 237, 0.1); border-radius: 12px; border: 1px solid rgba(124, 58, 237, 0.3); margin-bottom: 3rem;">
      <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: #a855f7;">About the Author</h3>
      <div style="display: flex; align-items: start; gap: 1.5rem;">
        <div style="width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #7c3aed, #a855f7); display: flex; align-items: center; justify-content: center; font-size: 2rem; flex-shrink: 0;">
          ‚úçÔ∏è
        </div>
        <div>
          <div id="authorName" style="font-weight: 600; font-size: 1.1rem; margin-bottom: 0.5rem;"></div>
          <p id="authorBio" style="opacity: 0.9; line-height: 1.6;"></p>
        </div>
      </div>
    </div>

    <!-- Related Posts -->
    <div id="relatedPosts">
      <h3 style="font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5rem; color: #a855f7;">Related Posts</h3>
      <div id="relatedPostsGrid" style="display: grid; gap: 1rem;"></div>
    </div>

  </article>

  <!-- 404 State -->
  <div id="notFound" style="display: none; text-align: center; padding: 4rem 2rem;">
    <div style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.5;">üòï</div>
    <h2 style="font-size: 2rem; font-weight: bold; margin-bottom: 1rem;">Post Not Found</h2>
    <p style="opacity: 0.8; margin-bottom: 2rem;">This blog post doesn't exist or has been removed.</p>
    <a href="blog.html" class="btn">‚Üê Back to Blog</a>
  </div>

</main>

<!-- Bottom Navigation -->
<nav class="fixed bottom-0 left-0 right-0 z-50 bg-[rgba(15,0,30,0.95)] backdrop-blur-md border-t border-purple-500/40">
  <div class="max-w-6xl mx-auto px-2 py-2">
    <div class="flex items-center justify-around gap-1">
      <a href="index.html" class="bottom-nav-item">
        <div class="bottom-nav-icon">üè†</div>
        <div class="bottom-nav-label">Home</div>
      </a>
      <a href="search.html" class="bottom-nav-item">
        <div class="bottom-nav-icon">üîç</div>
        <div class="bottom-nav-label">Search</div>
      </a>
      <a href="feed.html" class="bottom-nav-item">
        <div class="bottom-nav-icon">üì∞</div>
        <div class="bottom-nav-label">Feed</div>
      </a>
      <a href="radio.html" class="bottom-nav-item">
        <div class="bottom-nav-icon">üìª</div>
        <div class="bottom-nav-label">Radio</div>
      </a>
      <a href="shop.html" class="bottom-nav-item">
        <div class="bottom-nav-icon">üõí</div>
        <div class="bottom-nav-label">Shop</div>
      </a>
    </div>
  </div>
</nav>

<style>
.bottom-nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  padding: 0.5rem 0.75rem;
  text-decoration: none;
  color: #a855f7;
  transition: all 0.2s;
  border-radius: 0.5rem;
  flex: 1;
  max-width: 100px;
}
.bottom-nav-item:hover {
  background: rgba(124, 58, 237, 0.2);
  color: #c084fc;
}
.bottom-nav-icon {
  font-size: 1.25rem;
  line-height: 1;
}
.bottom-nav-label {
  font-size: 0.7rem;
  font-weight: 600;
  text-align: center;
}
</style>

<script src="scripts.js?v=6" defer></script>

<script>
// Get post ID from URL
const urlParams = new URLSearchParams(window.location.search);
const postId = urlParams.get('id');

// Load and display post
function loadPost() {
  if (!postId) {
    showNotFound();
    return;
  }
  
  const posts = JSON.parse(localStorage.getItem('blog_posts') || '[]');
  const post = posts.find(p => p.id == postId);
  
  if (!post) {
    showNotFound();
    return;
  }
  
  displayPost(post);
  displayRelatedPosts(posts, post);
  incrementViews(post);
}

function displayPost(post) {
  // Hide loading, show content
  document.getElementById('loadingState').style.display = 'none';
  document.getElementById('postContent').style.display = 'block';
  
  // Update page title
  document.getElementById('pageTitle').textContent = `${post.title} ‚Äî 8BFR Blog`;
  document.getElementById('pageDescription').content = post.excerpt;
  
  // Fill content
  document.getElementById('postTitle').textContent = post.title;
  document.getElementById('postAuthor').textContent = post.author;
  
  const date = new Date(post.date).toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  });
  document.getElementById('postDate').textContent = date;
  
  // Categories
  const categoryName = getCategoryName(post.category);
  document.getElementById('postCategories').innerHTML = `<span class="category-tag">${categoryName}</span>`;
  
  // Meta
  document.getElementById('postMeta').innerHTML = `
    <span>‚è±Ô∏è ${post.readTime} min read</span>
    <span>üëÅÔ∏è ${post.views} views</span>
  `;
  
  // Article body - convert line breaks to paragraphs
  const content = post.content
    .split('\n\n')
    .map(para => {
      if (para.startsWith('#')) {
        const level = para.match(/^#+/)[0].length;
        const text = para.replace(/^#+\s*/, '');
        return `<h${level}>${text}</h${level}>`;
      }
      return `<p>${para.replace(/\n/g, '<br>')}</p>`;
    })
    .join('');
  
  document.getElementById('articleBody').innerHTML = content;
  
  // Tags
  document.getElementById('postTags').innerHTML = `
    <div style="font-weight: 600; margin-bottom: 0.75rem; color: #a855f7;">üè∑Ô∏è Categories</div>
    <span class="category-tag">${categoryName}</span>
  `;
  
  // Author bio
  document.getElementById('authorName').textContent = post.author;
  document.getElementById('authorBio').textContent = getAuthorBio(post.author);
}

function displayRelatedPosts(allPosts, currentPost) {
  const related = allPosts
    .filter(p => p.id !== currentPost.id && p.category === currentPost.category)
    .slice(0, 3);
  
  if (related.length === 0) {
    document.getElementById('relatedPosts').style.display = 'none';
    return;
  }
  
  const grid = document.getElementById('relatedPostsGrid');
  grid.innerHTML = related.map(post => `
    <a href="blog-post.html?id=${post.id}" class="related-post">
      <div style="margin-bottom: 0.5rem;">
        <span class="category-tag" style="font-size: 0.75rem; padding: 0.25rem 0.75rem;">${getCategoryName(post.category)}</span>
      </div>
      <h4 style="font-size: 1.1rem; font-weight: 600; margin-bottom: 0.5rem;">${post.title}</h4>
      <p style="font-size: 0.9rem; opacity: 0.8; margin-bottom: 0.75rem;">${post.excerpt}</p>
      <div style="font-size: 0.75rem; opacity: 0.6;">
        <span>‚úçÔ∏è ${post.author}</span> ‚Ä¢ 
        <span>‚è±Ô∏è ${post.readTime} min read</span>
      </div>
    </a>
  `).join('');
}

function incrementViews(post) {
  const posts = JSON.parse(localStorage.getItem('blog_posts') || '[]');
  const index = posts.findIndex(p => p.id === post.id);
  if (index !== -1) {
    posts[index].views = (posts[index].views || 0) + 1;
    localStorage.setItem('blog_posts', JSON.stringify(posts));
  }
}

function showNotFound() {
  document.getElementById('loadingState').style.display = 'none';
  document.getElementById('notFound').style.display = 'block';
}

function getCategoryName(slug) {
  const names = {
    'music-tips': 'üéµ Music Tips',
    'industry-news': 'üì∞ Industry News',
    'artist-stories': 'üé§ Artist Stories',
    'tutorials': 'üìö Tutorials',
    'announcements': 'üì¢ Announcements',
    'community': 'üíé Community'
  };
  return names[slug] || slug;
}

function getAuthorBio(author) {
  const bios = {
    '8BFR': 'Founder of 8BFR Music Network, artist, and music producer passionate about empowering creators.',
    '8BFR Team': 'The team behind 8BFR Music Network, working to build the future of music.',
    'default': 'Contributing writer at 8BFR Music Network.'
  };
  return bios[author] || bios['default'];
}

// Share functions
function shareTwitter() {
  const url = window.location.href;
  const text = document.getElementById('postTitle').textContent;
  window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
}

function shareFacebook() {
  const url = window.location.href;
  window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
}

function copyLink() {
  navigator.clipboard.writeText(window.location.href).then(() => {
    alert('‚úÖ Link copied to clipboard!');
  });
}

// Load post on page load
document.addEventListener('DOMContentLoaded', loadPost);
</script>

</body>
</html>
