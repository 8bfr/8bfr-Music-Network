<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Announcements â€” 8BFR Music Network</title>
<meta name="description" content="Latest announcements, updates, and news from 8BFR Music Network.">
<link rel="icon" href="assets/images/favicon.png">
<script src="https://cdn.tailwindcss.com"></script>
<style>
body {
  background: linear-gradient(#0b0014, #000);
  color: #eae6ff;
  font-family: system-ui, -apple-system, sans-serif;
  margin: 0;
  padding: 0;
  min-height: 100vh;
  padding-bottom: 70px;
}

.card {
  border: 1px solid rgba(124, 58, 237, 0.4);
  background: rgba(12, 6, 24, 0.8);
  border-radius: 16px;
  box-shadow: 0 0 24px rgba(124, 58, 237, 0.2);
  padding: 2rem;
  margin-bottom: 2rem;
}

.btn {
  display: inline-block;
  background: #7c3aed;
  border: 1px solid #7c3aed;
  color: #fff;
  padding: 0.75rem 1.5rem;
  border-radius: 0.75rem;
  text-decoration: none;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.btn:hover {
  background: #6d28d9;
  transform: translateY(-1px);
}

.btn-secondary {
  background: transparent;
  color: #a855f7;
  border: 1px solid rgba(124, 58, 237, 0.6);
}

.btn-secondary:hover {
  background: rgba(124, 58, 237, 0.2);
}

.announcement-card {
  background: rgba(124, 58, 237, 0.05);
  border: 1px solid rgba(124, 58, 237, 0.3);
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  position: relative;
}

.announcement-badge {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  border-radius: 50px;
  font-size: 0.75rem;
  font-weight: 600;
  margin-bottom: 0.75rem;
}

.badge-new {
  background: #ef4444;
  color: #fff;
}

.badge-update {
  background: #3b82f6;
  color: #fff;
}

.badge-feature {
  background: #10b981;
  color: #fff;
}

.badge-maintenance {
  background: #f59e0b;
  color: #fff;
}

.announcement-title {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #a855f7;
}

.announcement-date {
  font-size: 0.85rem;
  opacity: 0.7;
  margin-bottom: 1rem;
}

.announcement-content {
  line-height: 1.7;
  margin-bottom: 1rem;
}

.admin-controls {
  display: none;
  gap: 0.5rem;
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid rgba(124, 58, 237, 0.3);
}

.admin-controls.visible {
  display: flex;
}

.btn-small {
  padding: 0.4rem 0.8rem;
  font-size: 0.85rem;
}
</style>
</head>
<body>

<header class="px-4 py-4 bg-[rgba(15,0,30,.95)] border-b border-purple-500/40 sticky top-0 z-50 backdrop-blur-md">
  <div class="max-w-4xl mx-auto flex items-center justify-between">
    <a href="index.html" class="btn-secondary btn">â† Home</a>
    <h1 class="text-xl font-bold">Announcements</h1>
    <button id="adminToggle" class="btn btn-small" style="display: none;" onclick="toggleAdmin()">
      Admin
    </button>
  </div>
</header>

<main class="max-w-4xl mx-auto px-4 py-8">
  
  <!-- Hero -->
  <div style="text-align: center; margin-bottom: 3rem; padding: 3rem 2rem; background: linear-gradient(135deg, rgba(124, 58, 237, 0.2), rgba(0, 217, 255, 0.1)); border-radius: 20px; border: 1px solid rgba(124, 58, 237, 0.4);">
    <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ“¢</div>
    <h2 style="font-size: 2.5rem; font-weight: bold; margin-bottom: 0.75rem; text-shadow: 0 0 20px rgba(168, 85, 247, 0.6);">
      Platform Announcements
    </h2>
    <p style="font-size: 1.1rem; opacity: 0.9; max-width: 600px; margin: 0 auto;">
      Stay updated with the latest news, features, and updates from 8BFR Music Network
    </p>
  </div>

  <!-- Admin: Create Announcement -->
  <div id="createSection" class="card" style="display: none;">
    <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1.5rem; color: #a855f7;">ğŸ“ Create Announcement</h3>
    
    <div style="margin-bottom: 1rem;">
      <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; font-size: 0.9rem;">Type</label>
      <select id="newType" style="width: 100%; padding: 0.75rem; background: rgba(18, 3, 39, 0.8); border: 1px solid rgba(124, 58, 237, 0.6); border-radius: 0.75rem; color: #fff;">
        <option value="new">ğŸ”´ New</option>
        <option value="update">ğŸ”µ Update</option>
        <option value="feature">ğŸŸ¢ Feature</option>
        <option value="maintenance">ğŸŸ¡ Maintenance</option>
      </select>
    </div>

    <div style="margin-bottom: 1rem;">
      <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; font-size: 0.9rem;">Title</label>
      <input type="text" id="newTitle" placeholder="Announcement title" style="width: 100%; padding: 0.75rem; background: rgba(18, 3, 39, 0.8); border: 1px solid rgba(124, 58, 237, 0.6); border-radius: 0.75rem; color: #fff;">
    </div>

    <div style="margin-bottom: 1rem;">
      <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; font-size: 0.9rem;">Content</label>
      <textarea id="newContent" rows="4" placeholder="Announcement details..." style="width: 100%; padding: 0.75rem; background: rgba(18, 3, 39, 0.8); border: 1px solid rgba(124, 58, 237, 0.6); border-radius: 0.75rem; color: #fff; resize: vertical; font-family: inherit;"></textarea>
    </div>

    <button class="btn" onclick="createAnnouncement()">ğŸ“¤ Publish Announcement</button>
  </div>

  <!-- Announcements List -->
  <div id="announcementsList"></div>

  <!-- Empty State -->
  <div id="emptyState" style="display: none; text-align: center; padding: 4rem 2rem;">
    <div style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.5;">ğŸ“­</div>
    <h3 style="font-size: 1.5rem; font-weight: bold; margin-bottom: 0.75rem;">No Announcements Yet</h3>
    <p style="opacity: 0.8;">Check back soon for updates from 8BFR!</p>
  </div>

</main>

<!-- Bottom Navigation -->
<nav class="fixed bottom-0 left-0 right-0 z-50 bg-[rgba(15,0,30,0.95)] backdrop-blur-md border-t border-purple-500/40">
  <div class="max-w-6xl mx-auto px-2 py-2">
    <div class="flex items-center justify-around gap-1">
      <a href="index.html" class="bottom-nav-item">
        <div class="bottom-nav-icon">ğŸ </div>
        <div class="bottom-nav-label">Home</div>
      </a>
      <a href="search.html" class="bottom-nav-item">
        <div class="bottom-nav-icon">ğŸ”</div>
        <div class="bottom-nav-label">Search</div>
      </a>
      <a href="feed.html" class="bottom-nav-item">
        <div class="bottom-nav-icon">ğŸ“°</div>
        <div class="bottom-nav-label">Feed</div>
      </a>
      <a href="radio.html" class="bottom-nav-item">
        <div class="bottom-nav-icon">ğŸ“»</div>
        <div class="bottom-nav-label">Radio</div>
      </a>
      <a href="shop.html" class="bottom-nav-item">
        <div class="bottom-nav-icon">ğŸ›’</div>
        <div class="bottom-nav-label">Shop</div>
      </a>
    </div>
  </div>
</nav>

<style>
.bottom-nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  padding: 0.5rem 0.75rem;
  text-decoration: none;
  color: #a855f7;
  transition: all 0.2s;
  border-radius: 0.5rem;
  flex: 1;
  max-width: 100px;
}
.bottom-nav-item:hover {
  background: rgba(124, 58, 237, 0.2);
  color: #c084fc;
}
.bottom-nav-icon {
  font-size: 1.25rem;
  line-height: 1;
}
.bottom-nav-label {
  font-size: 0.7rem;
  font-weight: 600;
  text-align: center;
}
</style>

<script src="scripts.js?v=6" defer></script>

<script>
const AnnouncementsSystem = {
  announcements: [],
  isAdmin: false,
  
  init() {
    this.checkAdminStatus();
    this.loadAnnouncements();
    this.renderAnnouncements();
    this.createSampleAnnouncements();
  },
  
  checkAdminStatus() {
    // Check if user is admin/owner
    const userRole = localStorage.getItem('userRole');
    this.isAdmin = (userRole === 'owner' || userRole === 'admin' || userRole === 'mod');
    
    if (this.isAdmin) {
      document.getElementById('adminToggle').style.display = 'inline-block';
    }
  },
  
  loadAnnouncements() {
    const stored = localStorage.getItem('announcements');
    this.announcements = stored ? JSON.parse(stored) : [];
  },
  
  saveAnnouncements() {
    localStorage.setItem('announcements', JSON.stringify(this.announcements));
  },
  
  createSampleAnnouncements() {
    if (this.announcements.length === 0) {
      const samples = [
        {
          id: Date.now() + 1,
          type: 'new',
          title: 'Welcome to 8BFR Music Network! ğŸ‰',
          content: 'We\'re excited to launch the 8BFR Music Network - a platform built by artists, for artists. Connect with other musicians, share your work, and grow your fanbase!',
          date: new Date().toISOString(),
          author: '8BFR Team'
        },
        {
          id: Date.now() + 2,
          type: 'feature',
          title: 'Stories Feature Now Live! ğŸ“¸',
          content: 'Share your music journey with 24-hour stories. Upload photos, text updates, and connect with your fans in a whole new way. Swipe through stories just like your favorite social apps!',
          date: new Date(Date.now() - 86400000).toISOString(),
          author: '8BFR Team'
        },
        {
          id: Date.now() + 3,
          type: 'update',
          title: 'Algorithm & Points System Explained ğŸ§®',
          content: 'Learn exactly how the 8BFR algorithm works and how to earn points to boost your visibility. Check out our new Algorithm page for full details on tiers, points, and promotion.',
          date: new Date(Date.now() - 172800000).toISOString(),
          author: '8BFR Team'
        }
      ];
      
      this.announcements = samples;
      this.saveAnnouncements();
    }
  },
  
  renderAnnouncements() {
    const container = document.getElementById('announcementsList');
    const emptyState = document.getElementById('emptyState');
    
    if (this.announcements.length === 0) {
      container.innerHTML = '';
      emptyState.style.display = 'block';
      return;
    }
    
    emptyState.style.display = 'none';
    
    // Sort by date (newest first)
    const sorted = [...this.announcements].sort((a, b) => 
      new Date(b.date) - new Date(a.date)
    );
    
    container.innerHTML = sorted.map(announcement => 
      this.createAnnouncementHTML(announcement)
    ).join('');
  },
  
  createAnnouncementHTML(announcement) {
    const badgeClass = `badge-${announcement.type}`;
    const badgeText = {
      'new': 'ğŸ”´ NEW',
      'update': 'ğŸ”µ UPDATE',
      'feature': 'ğŸŸ¢ FEATURE',
      'maintenance': 'ğŸŸ¡ MAINTENANCE'
    }[announcement.type];
    
    const date = new Date(announcement.date);
    const dateStr = date.toLocaleDateString('en-US', { 
      year: 'numeric', 
      month: 'long', 
      day: 'numeric' 
    });
    
    return `
      <div class="announcement-card" id="announcement-${announcement.id}">
        <div class="announcement-badge ${badgeClass}">${badgeText}</div>
        <h3 class="announcement-title">${announcement.title}</h3>
        <div class="announcement-date">ğŸ“… ${dateStr} â€¢ By ${announcement.author}</div>
        <div class="announcement-content">${announcement.content}</div>
        
        ${this.isAdmin ? `
          <div class="admin-controls" id="controls-${announcement.id}">
            <button class="btn btn-small btn-secondary" onclick="AnnouncementsSystem.editAnnouncement('${announcement.id}')">
              âœï¸ Edit
            </button>
            <button class="btn btn-small" style="background: #ef4444; border-color: #ef4444;" onclick="AnnouncementsSystem.deleteAnnouncement('${announcement.id}')">
              ğŸ—‘ï¸ Delete
            </button>
          </div>
        ` : ''}
      </div>
    `;
  },
  
  editAnnouncement(id) {
    alert('Edit functionality coming soon!');
    // In production, this would open an edit modal
  },
  
  deleteAnnouncement(id) {
    if (!confirm('Are you sure you want to delete this announcement?')) return;
    
    this.announcements = this.announcements.filter(a => a.id.toString() !== id);
    this.saveAnnouncements();
    this.renderAnnouncements();
    
    alert('âœ… Announcement deleted');
  }
};

function toggleAdmin() {
  const createSection = document.getElementById('createSection');
  const isVisible = createSection.style.display !== 'none';
  
  createSection.style.display = isVisible ? 'none' : 'block';
  
  // Toggle admin controls visibility
  document.querySelectorAll('.admin-controls').forEach(el => {
    el.classList.toggle('visible');
  });
}

function createAnnouncement() {
  const type = document.getElementById('newType').value;
  const title = document.getElementById('newTitle').value.trim();
  const content = document.getElementById('newContent').value.trim();
  
  if (!title || !content) {
    alert('âš ï¸ Please fill in all fields');
    return;
  }
  
  const announcement = {
    id: Date.now(),
    type: type,
    title: title,
    content: content,
    date: new Date().toISOString(),
    author: localStorage.getItem('username') || 'Admin'
  };
  
  AnnouncementsSystem.announcements.unshift(announcement);
  AnnouncementsSystem.saveAnnouncements();
  AnnouncementsSystem.renderAnnouncements();
  
  // Clear form
  document.getElementById('newTitle').value = '';
  document.getElementById('newContent').value = '';
  
  alert('âœ… Announcement published!');
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  AnnouncementsSystem.init();
});
</script>
  <!-- ADD THIS SCRIPT TO EVERY PAGE (except index.html where you want it always shown) -->
<!-- Place it right before the closing </body> tag -->

<script>
// Avatar & Bubble Toggle System
(function() {
    // Create toggle button
    const toggleBtn = document.createElement('button');
    toggleBtn.id = 'avatarToggle';
    toggleBtn.innerHTML = 'ğŸ‘ï¸';
    toggleBtn.title = 'Toggle Avatar/Bubbles';
    toggleBtn.style.cssText = `
        position: fixed;
        top: 80px;
        right: 20px;
        z-index: 9999;
        background: rgba(124, 58, 237, 0.9);
        border: 2px solid rgba(124, 58, 237, 1);
        color: white;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(124, 58, 237, 0.5);
        transition: all 0.3s ease;
    `;
    
    toggleBtn.addEventListener('mouseenter', function() {
        this.style.transform = 'scale(1.1)';
    });
    
    toggleBtn.addEventListener('mouseleave', function() {
        this.style.transform = 'scale(1)';
    });
    
    document.body.appendChild(toggleBtn);
    
    // Load saved preference
    let isHidden = localStorage.getItem('hideAvatarBubbles') === 'true';
    
    function updateVisibility() {
        const elementsToToggle = [
            document.getElementById('homeAvatarSwitcher'),
            ...document.querySelectorAll('[id*="bubble"]'),
            ...document.querySelectorAll('[class*="bubble"]'),
            ...document.querySelectorAll('[id*="avatar"][id*="switcher"]')
        ];
        
        elementsToToggle.forEach(el => {
            if (el) {
                el.style.display = isHidden ? 'none' : '';
            }
        });
        
        toggleBtn.innerHTML = isHidden ? 'ğŸ‘ï¸â€ğŸ—¨ï¸' : 'ğŸ‘ï¸';
        toggleBtn.title = isHidden ? 'Show Avatar/Bubbles' : 'Hide Avatar/Bubbles';
    }
    
    toggleBtn.addEventListener('click', function() {
        isHidden = !isHidden;
        localStorage.setItem('hideAvatarBubbles', isHidden);
        updateVisibility();
    });
    
    // Apply on load
    updateVisibility();
    
    // Watch for dynamically added elements
    const observer = new MutationObserver(updateVisibility);
    observer.observe(document.body, { childList: true, subtree: true });
})();
</script>


</body>
</html>
