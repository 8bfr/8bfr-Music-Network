<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Owner Studio â€” 8BFR</title>
<link rel="stylesheet" href="styles.css">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="supabase-client.js"></script>
</head>
<body>

<header class="header">
  <h1>ðŸ§  Owner Studio (AI Tools)</h1>
</header>

<main class="container">
  <div class="grid">
    <div class="card"><h3>ðŸŽ¤ Lyrics Writer</h3><button class="btn" onclick="runAI('lyrics_creator')">Launch</button></div>
    <div class="card"><h3>ðŸŽ¶ Song Creator</h3><button class="btn" onclick="runAI('song_creator')">Launch</button></div>
    <div class="card"><h3>ðŸŽ¨ Album Cover</h3><button class="btn" onclick="runAI('album_cover')">Launch</button></div>
    <div class="card"><h3>ðŸŽ¬ Music Video</h3><button class="btn" onclick="runAI('music_video')">Launch</button></div>
    <div class="card"><h3>ðŸ“¢ Post Generator</h3><button class="btn" onclick="runAI('post_creator')">Launch</button></div>
  </div>
</main>

<script>
async function runAI(tool){
  const { data } = await supabase.auth.getSession();
  if(!data.session) return alert('Login required');

  const prompt = prompt('Enter prompt');
  if(!prompt) return;

  const res = await fetch('https://YOUR_PROJECT_REF.functions.supabase.co/ai-proxy',{
    method:'POST',
    headers:{
      'Content-Type':'application/json',
      'Authorization':`Bearer ${data.session.access_token}`
    },
    body:JSON.stringify({ tool, prompt })
  });

  const json = await res.json();
  if(json.result?.text) alert(json.result.text);
  if(json.result?.image_url) window.open(json.result.image_url);
}
</script>

</body>
</html>
