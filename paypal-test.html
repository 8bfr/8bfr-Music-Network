<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PayPal Test - 8BFR</title>
    <script src="https://www.paypal.com/sdk/js?client-id=AWx0LwdZ_sCyCE5gEj9mL1ha7ZbG_eZLE_R636KjLXFMV1pOfmGwNg9prM5kVKQspvnpNLJDZxPp100G&currency=USD"></script>
    <style>
        body {
            background: #000;
            color: #fff;
            font-family: Arial;
            padding: 2rem;
            text-align: center;
        }
        #status {
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 8px;
        }
        .success { background: #00ff88; color: #000; }
        .error { background: #ff0044; color: #fff; }
    </style>
</head>
<body>
    <h1>PayPal SDK Test</h1>
    <div id="status">Loading...</div>
    <div id="paypal-button-container" style="max-width: 400px; margin: 2rem auto;"></div>

    <script>
        console.log('=== PAYPAL SDK TEST ===');
        console.log('window.paypal exists:', !!window.paypal);
        console.log('Full PayPal object:', window.paypal);
        
        const statusDiv = document.getElementById('status');
        
        setTimeout(() => {
            if (window.paypal) {
                statusDiv.className = 'success';
                statusDiv.innerHTML = '✅ PayPal SDK LOADED SUCCESSFULLY!<br>Rendering button...';
                console.log('✅ PayPal loaded!');
                
                try {
                    paypal.Buttons({
                        createOrder: function(data, actions) {
                            return actions.order.create({
                                purchase_units: [{
                                    amount: {
                                        value: '10.00'
                                    },
                                    description: 'Test payment for 8BFR'
                                }]
                            });
                        },
                        onApprove: function(data, actions) {
                            return actions.order.capture().then(function(details) {
                                alert('✅ Payment successful! Transaction ID: ' + details.id);
                                console.log('Payment details:', details);
                            });
                        },
                        onError: function(err) {
                            alert('❌ Payment error: ' + err);
                            console.error('PayPal error:', err);
                        }
                    }).render('#paypal-button-container');
                    
                    console.log('✅ PayPal button rendered!');
                } catch (err) {
                    statusDiv.className = 'error';
                    statusDiv.innerHTML = '❌ ERROR RENDERING BUTTON<br>' + err.message;
                    console.error('Render error:', err);
                }
            } else {
                statusDiv.className = 'error';
                statusDiv.innerHTML = '❌ PAYPAL SDK FAILED TO LOAD<br>Check console for errors';
                console.error('❌ PayPal SDK not loaded!');
                console.log('Possible causes:');
                console.log('1. Ad blocker (uBlock Origin, AdBlock, etc.)');
                console.log('2. Browser extension blocking PayPal');
                console.log('3. Network/firewall blocking PayPal CDN');
                console.log('4. Invalid Client ID');
            }
        }, 1000);
    </script>
</body>
</html>
